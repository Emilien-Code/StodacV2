{"remainingRequest":"C:\\Users\\Elève\\Documents\\GitHub\\Stodac\\Stodac\\stodac\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\Elève\\Documents\\GitHub\\Stodac\\Stodac\\stodac\\src\\views\\addItem.vue?vue&type=style&index=0&id=36b3142a&scoped=true&lang=css","dependencies":[{"path":"C:\\Users\\Elève\\Documents\\GitHub\\Stodac\\Stodac\\stodac\\src\\views\\addItem.vue","mtime":1649080552000},{"path":"C:\\Users\\Elève\\Documents\\GitHub\\Stodac\\Stodac\\stodac\\node_modules\\css-loader\\dist\\cjs.js","mtime":1649088769361},{"path":"C:\\Users\\Elève\\Documents\\GitHub\\Stodac\\Stodac\\stodac\\node_modules\\vue-loader-v16\\dist\\stylePostLoader.js","mtime":1649088801883},{"path":"C:\\Users\\Elève\\Documents\\GitHub\\Stodac\\Stodac\\stodac\\node_modules\\postcss-loader\\src\\index.js","mtime":1649088786411},{"path":"C:\\Users\\Elève\\Documents\\GitHub\\Stodac\\Stodac\\stodac\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1649088762695},{"path":"C:\\Users\\Elève\\Documents\\GitHub\\Stodac\\Stodac\\stodac\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1649088801858}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CiNhZGRJdGVtewogIG1hcmdpbi10b3A6IDgwcHg7Cn0KaW5wdXQsIHNlbGVjdCwgdGV4dGFyZWEsIGJ1dHRvbnsKICBwYWRkaW5nOiA1cHg7CiAgYm9yZGVyLXJhZGl1czogMTBweDsKICBib3JkZXI6IHNvbGlkICMwNzhBNkMgMnB4Owp9CnRleHRhcmVhewogIHdpZHRoOiA1MDBweDsKICBoZWlnaHQ6IDIwMHB4OwogIHJlc2l6ZTogbm9uZTsKfQojZGVzY3sKICBoZWlnaHQ6IDIwMHB4Owp9Ci5yb3d7CiAgd2lkdGg6IDEwMHZ3OwogIGhlaWdodDogNTBweDsKICBkaXNwbGF5OiBmbGV4OwogIGp1c3RpZnktY29udGVudDpjZW50ZXI7CiAgYWxpZ24taXRlbXM6IGNlbnRlcjsKfQpidXR0b24gIHsKICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDc4QTZDOwogIGN1cnNvcjogcG9pbnRlcjsKfQojYWpvdXRlciAgewogIHdpZHRoOiAyNTBweDsKICBoZWlnaHQ6IDUwcHg7Cn0KCiNyb25kewogIGJvcmRlci1yYWRpdXM6IDEwcHg7CiAgd2lkdGg6IDMwcHg7CiAgaGVpZ2h0OiAzMHB4OwogIG1hcmdpbi1sZWZ0OiAxMHB4OwogfQouY29tcHMgIHsKICBtYXJnaW4tbGVmdDogMnB4Owp9Cg=="},{"version":3,"sources":["C:\\Users\\Elève\\Documents\\GitHub\\Stodac\\Stodac\\stodac\\src\\views\\addItem.vue"],"names":[],"mappings":"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","file":"C:/Users/Elève/Documents/GitHub/Stodac/Stodac/stodac/src/views/addItem.vue","sourceRoot":"","sourcesContent":["<template>\n  <div id=\"addItem\">\n    <div v-if=\"$store.state.userInfos.admin\">\n      <div class=\"row\">\n\n      <div>\n        <span>Nom :</span>\n        <input type=\"text\" v-model=\"item.name\">\n      </div>\n      <div>\n        <span>Référence : </span>\n        <input type=\"text\" v-model=\"item.reference\">\n      </div>\n      </div>\n\n      <div class=\"row\">\n        <span>Marque :</span>\n\n        <select id=\"marque\" v-model=\"item.manufacturer\">\n          <option v-for=\"man in manufactureList\" :value=\"man\" :key=\"man\">{{ man }}</option>\n        </select>\n\n        OU\n\n        nouvelle marque :<input type=\"text\" v-model=\"item.manufacturer\">\n\n      </div>\n\n      <div class=\"row\">\n        <span>Catégorie :</span>\n\n        <select id=\"category\" v-model=\"item.category\">\n          <option v-for=\"man in categoryList\" :value=\"man\" :key=\"man\">{{ man }}</option>\n        </select>\n\n        OU\n\n        nouvelle categorie :<input type=\"text\" v-model=\"item.category\">\n\n      </div>\n\n      <div class=\"row\">\n\n      <div>\n        <span>Poids :</span>\n        <input type=\"number\" v-model=\"item.poids\">\n      </div>\n      <div>\n        <span>État : (neuf ou occasion) :</span>\n        <select id=\"state\" v-model=\"item.state\">\n          <option value=\"Neuf\">neuf</option>\n          <option value=\"Occasion\">Occasion</option>\n        </select>\n      </div>\n      </div>\n      <div class=\"row\">\n\n      <div>\n        <span>Quantitée :</span>\n        <input type=\"number\" v-model=\"item.qty\">\n      </div>\n      <div>\n        <span>Prix :</span>\n        <input type=\"number\" v-model=\"item.price\">\n        <span>avec TVA : {{ Math.round(item.price * 1.2 * 100) / 100 }}</span>\n      </div>\n      </div>\n      <div class=\"row\">\n        <span>Compatibilités :</span>\n        <input class=\"comps\" v-for=\"(comp, index) in compatibilities\" :key=\"comp\" type=\"text\" v-model=\"item.compatibility[index]\"/>\n        <button id=\"rond\" @click=\"addComp()\">+</button>\n      </div><!-- VMODEL compatibility[0] -->\n      <div class=\"row\" id=\"desc\">\n        <span>Description : </span>\n        <textarea v-model=\"item.description\"></textarea>\n      </div>\n      <div class=\"row\">\n        <span>Image : </span>\n        <input type=\"file\" id=\"file\" ref=\"file\" name=\"first\" @change=\"handleFileUploaded()\"/>\n      </div>\n\n\n    <div class=\"row\" >\n      <button id=\"ajouter\" @click=\"create()\">Ajouter</button>\n    </div>\n\n\n    </div>\n    <div v-else>Niveau d'accès trop bas pour acceder.</div>\n  </div>\n</template>\n\n<script>\nconst axios = require('axios');\nexport default {\n  name: \"addItem\",\n  data : function(){\n    return{\n      item : {\n        compatibility: [],\n        name: \"\",\n        manufacturer: \"\",\n        qty: 0,\n        price: 0,\n        poids: 0,\n        reference: \"\",\n        category: \"\",\n        img: \"\",\n        state: \"\",\n        description: \"\",\n\n      },\n      file : '',\n      manufactureList : [],\n      categoryList : [],\n      compatibilities: 1\n    }\n  },\n  mounted: function(){\n    if(this.$store.state.user.userID === -1){\n      this.$router.push('/login/add');\n    }\n    this.$store.dispatch('getUserInfos');\n    axios.get('http://localhost:3000/api/stuff/manufacturer')\n        .then((response)=>{\n          this.manufactureList = response.data;\n        })\n    axios.get('http://localhost:3000/api/stuff/categories')\n        .then((response)=>{\n          this.categoryList = response.data;\n        })\n  },\n  methods : {\n    handleFileUploaded(){\n      this.file = this.$refs.file.files[0]\n    },\n    create : function(){\n      const fd = new FormData()\n      fd.append('image', this.file)\n      fd.append('name', this.item.name)\n      fd.append('manufacturer', this.item.manufacturer)\n      fd.append('qty', this.item.qty)\n      fd.append('price', this.item.price * 1.2)\n      fd.append('poids', this.item.poids)\n      fd.append('reference', this.item.reference)\n      fd.append('category', this.item.category)\n      fd.append('state', this.item.state)\n      fd.append('description', this.item.description)\n      fd.append('compatibility', JSON.stringify(this.item.compatibility))\n      axios.post('http://localhost:3000/api/stuff/',fd)\n          .then(res=>{\n            console.log(res)\n          });\n      console.log(this.item.compatibility)\n    },\n    addComp : function (){\n      this.compatibilities++\n      console.log(this.compatibilities)\n      console.log(this.item.compatibility)\n    }\n  }\n}\n</script>\n\n<style scoped>\n#addItem{\n  margin-top: 80px;\n}\ninput, select, textarea, button{\n  padding: 5px;\n  border-radius: 10px;\n  border: solid #078A6C 2px;\n}\ntextarea{\n  width: 500px;\n  height: 200px;\n  resize: none;\n}\n#desc{\n  height: 200px;\n}\n.row{\n  width: 100vw;\n  height: 50px;\n  display: flex;\n  justify-content:center;\n  align-items: center;\n}\nbutton  {\n  background-color: #078A6C;\n  cursor: pointer;\n}\n#ajouter  {\n  width: 250px;\n  height: 50px;\n}\n\n#rond{\n  border-radius: 10px;\n  width: 30px;\n  height: 30px;\n  margin-left: 10px;\n }\n.comps  {\n  margin-left: 2px;\n}\n</style>"]}]}