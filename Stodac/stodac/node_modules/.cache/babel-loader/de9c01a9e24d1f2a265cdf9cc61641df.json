{"remainingRequest":"/Users/emilienvivier/Documents/Dev/git/Stodac/stodac/node_modules/babel-loader/lib/index.js!/Users/emilienvivier/Documents/Dev/git/Stodac/stodac/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/emilienvivier/Documents/Dev/git/Stodac/stodac/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/emilienvivier/Documents/Dev/git/Stodac/stodac/src/components/forms/paypal.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/emilienvivier/Documents/Dev/git/Stodac/stodac/src/components/forms/paypal.vue","mtime":1650985845411},{"path":"/Users/emilienvivier/Documents/Dev/git/Stodac/stodac/node_modules/cache-loader/dist/cjs.js","mtime":1649843754269},{"path":"/Users/emilienvivier/Documents/Dev/git/Stodac/stodac/node_modules/babel-loader/lib/index.js","mtime":1649843755114},{"path":"/Users/emilienvivier/Documents/Dev/git/Stodac/stodac/node_modules/cache-loader/dist/cjs.js","mtime":1649843754269},{"path":"/Users/emilienvivier/Documents/Dev/git/Stodac/stodac/node_modules/vue-loader-v16/dist/index.js","mtime":1649843755396}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL2VtaWxpZW52aXZpZXIvRG9jdW1lbnRzL0Rldi9naXQvU3RvZGFjL3N0b2RhYy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICIvVXNlcnMvZW1pbGllbnZpdmllci9Eb2N1bWVudHMvRGV2L2dpdC9TdG9kYWMvc3RvZGFjL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuZGVzY3JpcHRpb24uanMiOwppbXBvcnQgeyBtYXBTdGF0ZSB9IGZyb20gInZ1ZXgiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogInBheXBhbCIsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHBhaWRGb3I6IGZhbHNlCiAgICB9OwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBzY3JpcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzY3JpcHQiKTsgLy8gc2NyaXB0LnNyYyA9ICJodHRwczovL3d3dy5wYXlwYWwuY29tL3Nkay9qcz9jbGllbnQtaWQ9QVNPV3AtXzF6eFdmNEVYRXp1YzQ3c3d6aHF1UFNCMlhjaEVIT1RNQjhZbXZfS3duYlF2QlhSSzlNNkJGS3FoU01UbDkwZE1TcF9xeFZReEomY3VycmVuY3k9RVVSIjsKCiAgICBzY3JpcHQuc3JjID0gImh0dHBzOi8vd3d3LnBheXBhbC5jb20vc2RrL2pzP2NsaWVudC1pZD1BYkxQakttNFZ4dkpuLXBUU19rV2QwQ0Z6MUd0MEl4ZkIyRkZNMlhmcC04eFVUOHA4aFo3bFQyNjR3WkNpZ1JoQVFQZXN5YW1wVDRNOTRuaSZjdXJyZW5jeT1FVVIiOwogICAgc2NyaXB0LmFkZEV2ZW50TGlzdGVuZXIoImxvYWQiLCB0aGlzLnNldExvYWRlZCk7CiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHNjcmlwdCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBzZXRMb2FkZWQ6IGZ1bmN0aW9uIHNldExvYWRlZCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHRoaXMubG9hZGVkID0gdHJ1ZTsKICAgICAgd2luZG93LnBheXBhbC5CdXR0b25zKHsKICAgICAgICBjcmVhdGVPcmRlcjogZnVuY3Rpb24gY3JlYXRlT3JkZXIoZGF0YSwgYWN0aW9ucykgewogICAgICAgICAgcmV0dXJuIGFjdGlvbnMub3JkZXIuY3JlYXRlKHsKICAgICAgICAgICAgcHVyY2hhc2VfdW5pdHM6IFt7CiAgICAgICAgICAgICAgZGVzY3JpcHRpb246IF90aGlzLmRlc2NyaXB0aW9uLAogICAgICAgICAgICAgIGFtb3VudDogewogICAgICAgICAgICAgICAgdmFsdWU6IF90aGlzLnVzZXJJbmZvcy5wcml4X3R0bF9wYW5pZXIKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH1dCiAgICAgICAgICB9KTsKICAgICAgICB9LAogICAgICAgIG9uQXBwcm92ZTogZnVuY3Rpb24gKCkgewogICAgICAgICAgdmFyIF9vbkFwcHJvdmUgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoZGF0YSwgYWN0aW9ucykgewogICAgICAgICAgICB2YXIgb3JkZXI7CiAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gYWN0aW9ucy5vcmRlci5jYXB0dXJlKCk7CgogICAgICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICAgICAgb3JkZXIgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgICAgIF90aGlzLmRhdGE7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMucGFpZEZvciA9IHRydWU7CgogICAgICAgICAgICAgICAgICAgIF90aGlzLnNhdmVGYWN0dXJlKGZhbHNlLCBvcmRlci5pZCk7CgogICAgICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sIF9jYWxsZWUpOwogICAgICAgICAgfSkpOwoKICAgICAgICAgIGZ1bmN0aW9uIG9uQXBwcm92ZShfeCwgX3gyKSB7CiAgICAgICAgICAgIHJldHVybiBfb25BcHByb3ZlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgICB9CgogICAgICAgICAgcmV0dXJuIG9uQXBwcm92ZTsKICAgICAgICB9KCksCiAgICAgICAgb25FcnJvcjogZnVuY3Rpb24gb25FcnJvcihlcnIpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7CiAgICAgICAgfQogICAgICB9KS5yZW5kZXIodGhpcy4kcmVmcy5wYXlwYWwpOwogICAgfQogIH0sCiAgY29tcHV0ZWQ6IF9vYmplY3RTcHJlYWQoewogICAgdG90YWw6IGZ1bmN0aW9uIHRvdGFsKCkgewogICAgICB2YXIgdG90YWwgPSAwOwoKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLiRzdG9yZS5zdGF0ZS5wYW5uaWVyLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgdG90YWwgKz0gdGhpcy4kc3RvcmUuc3RhdGUucGFubmllcltpXS5hcnRpY2xlLnByaWNlICogdGhpcy4kc3RvcmUuc3RhdGUucGFubmllcltpXS5xdHk7CiAgICAgIH0KCiAgICAgIHJldHVybiB0b3RhbDsKICAgIH0KICB9LCBtYXBTdGF0ZShbJ3VzZXJJbmZvcyddKSksCiAgcHJvcHM6IHsKICAgIHNhdmVGYWN0dXJlOiBGdW5jdGlvbgogIH0KfTs="},{"version":3,"sources":["/Users/emilienvivier/Documents/Dev/git/Stodac/stodac/src/components/forms/paypal.vue"],"names":[],"mappings":";;;;;AAOA,SAAQ,QAAR,QAAuB,MAAvB;AAEA,eAAe;AACb,EAAA,IAAI,EAAE,QADO;AAEb,EAAA,IAAI,EAAC,gBAAI;AACP,WAAM;AACJ,MAAA,OAAO,EAAE;AADL,KAAN;AAGD,GANY;AAOb,EAAA,OAPa,qBAOH;AACR,QAAM,MAAK,GAAI,QAAQ,CAAC,aAAT,CAAuB,QAAvB,CAAf,CADQ,CAER;;AACA,IAAA,MAAM,CAAC,GAAP,GAAa,uIAAb;AACA,IAAA,MAAM,CAAC,gBAAP,CAAwB,MAAxB,EAAgC,KAAK,SAArC;AACA,IAAA,QAAQ,CAAC,IAAT,CAAc,WAAd,CAA0B,MAA1B;AACD,GAbY;AAcb,EAAA,OAAO,EAAE;AACP,IAAA,SAAS,EAAE,qBAAY;AAAA;;AACrB,WAAK,MAAL,GAAc,IAAd;AACA,MAAA,MAAM,CAAC,MAAP,CACK,OADL,CACa;AACP,QAAA,WAAW,EAAE,qBAAC,IAAD,EAAO,OAAP,EAAmB;AAC9B,iBAAO,OAAO,CAAC,KAAR,CAAc,MAAd,CAAqB;AAC1B,YAAA,cAAc,EAAE,CACd;AACE,cAAA,WAAW,EAAE,KAAI,CAAC,WADpB;AAEE,cAAA,MAAM,EAAE;AACN,gBAAA,KAAK,EAAE,KAAI,CAAC,SAAL,CAAe;AADhB;AAFV,aADc;AADU,WAArB,CAAP;AAUD,SAZM;AAaP,QAAA,SAAS;AAAA,mFAAE,iBAAO,IAAP,EAAa,OAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BACW,OAAO,CAAC,KAAR,CAAc,OAAd,EADX;;AAAA;AACH,oBAAA,KADG;AAET,oBAAA,KAAI,CAAC,IAAL;AACA,oBAAA,KAAI,CAAC,OAAL,GAAe,IAAf;;AAEA,oBAAA,KAAI,CAAC,WAAL,CAAiB,KAAjB,EAAwB,KAAK,CAAC,EAA9B;;AALS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAF;;AAAA;AAAA;AAAA;;AAAA;AAAA,WAbF;AAoBP,QAAA,OAAO,EAAE,iBAAA,GAAE,EAAK;AACd,UAAA,OAAO,CAAC,GAAR,CAAY,GAAZ;AACF;AAtBO,OADb,EAyBK,MAzBL,CAyBY,KAAK,KAAL,CAAW,MAzBvB;AA0BD;AA7BM,GAdI;AA6Cb,EAAA,QAAQ;AACN,IAAA,KAAK,EAAE,iBAAY;AACjB,UAAI,KAAI,GAAI,CAAZ;;AACA,WAAI,IAAI,CAAA,GAAI,CAAZ,EAAe,CAAC,GAAC,KAAK,MAAL,CAAY,KAAZ,CAAkB,OAAlB,CAA0B,MAA3C,EAAmD,CAAC,EAApD,EAAuD;AACrD,QAAA,KAAI,IAAK,KAAK,MAAL,CAAY,KAAZ,CAAkB,OAAlB,CAA0B,CAA1B,EAA6B,OAA7B,CAAqC,KAArC,GAA6C,KAAK,MAAL,CAAY,KAAZ,CAAkB,OAAlB,CAA0B,CAA1B,EAA6B,GAAnF;AACF;;AACA,aAAO,KAAP;AACD;AAPK,KAQH,QAAQ,CAAC,CAAC,WAAD,CAAD,CARL,CA7CK;AAuDb,EAAA,KAAK,EAAC;AAAE,IAAA,WAAW,EAAC;AAAd;AAvDO,CAAf","sourcesContent":["<template>\n  <div class=\"Payment\">\n    <div ref=\"paypal\" id=\"paypal-button-container\"></div>\n  </div>\n</template>\n\n<script>\nimport {mapState} from \"vuex\";\n\nexport default {\n  name: \"paypal\",\n  data:()=>{\n    return{\n      paidFor: false,\n    }\n  },\n  mounted() {\n    const script = document.createElement(\"script\");\n    // script.src = \"https://www.paypal.com/sdk/js?client-id=ASOWp-_1zxWf4EXEzuc47swzhquPSB2XchEHOTMB8Ymv_KwnbQvBXRK9M6BFKqhSMTl90dMSp_qxVQxJ&currency=EUR\";\n    script.src = \"https://www.paypal.com/sdk/js?client-id=AbLPjKm4VxvJn-pTS_kWd0CFz1Gt0IxfB2FFM2Xfp-8xUT8p8hZ7lT264wZCigRhAQPesyampT4M94ni&currency=EUR\";\n    script.addEventListener(\"load\", this.setLoaded);\n    document.body.appendChild(script)\n  },\n  methods: {\n    setLoaded: function () {\n      this.loaded = true;\n      window.paypal\n          .Buttons({\n            createOrder: (data, actions) => {\n              return actions.order.create({\n                purchase_units: [\n                  {\n                    description: this.description,\n                    amount: {\n                      value: this.userInfos.prix_ttl_panier\n                    }\n                  }\n                ]\n              });\n            },\n            onApprove: async (data, actions) => {\n              const order = await actions.order.capture();\n              this.data;\n              this.paidFor = true;\n\n              this.saveFacture(false, order.id)\n            },\n            onError: err => {\n              console.log(err);\n            }\n          })\n          .render(this.$refs.paypal);\n    },\n  },\n  computed: {\n    total: function () {\n      let total = 0;\n      for(let i = 0; i<this.$store.state.pannier.length; i++){\n        total += this.$store.state.pannier[i].article.price * this.$store.state.pannier[i].qty;\n      }\n      return total\n    },\n    ...mapState(['userInfos']),\n  },\n  props:{ saveFacture:Function }\n}\n</script>\n\n<style scoped>\n#paypal-button-container{\n  display: flex;\n  justify-content: center;\n  z-index: 10;\n  background-color: #fff;\n}\n.Payment{\n  position: relative;\n  display: flex;\n  width: 100%;\n  justify-content: center;\n  z-index: 10;\n  background-color: #fff;\n}\n</style>"],"sourceRoot":""}]}