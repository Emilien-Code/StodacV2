{"remainingRequest":"/Users/emilienvivier/Documents/Dev/git/Stodac/stodac/node_modules/babel-loader/lib/index.js!/Users/emilienvivier/Documents/Dev/git/Stodac/stodac/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/emilienvivier/Documents/Dev/git/Stodac/stodac/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/emilienvivier/Documents/Dev/git/Stodac/stodac/src/components/forms/paypal.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/emilienvivier/Documents/Dev/git/Stodac/stodac/src/components/forms/paypal.vue","mtime":1658591073052},{"path":"/Users/emilienvivier/Documents/Dev/git/Stodac/stodac/node_modules/cache-loader/dist/cjs.js","mtime":1651081710418},{"path":"/Users/emilienvivier/Documents/Dev/git/Stodac/stodac/node_modules/babel-loader/lib/index.js","mtime":1651081711252},{"path":"/Users/emilienvivier/Documents/Dev/git/Stodac/stodac/node_modules/cache-loader/dist/cjs.js","mtime":1651081710418},{"path":"/Users/emilienvivier/Documents/Dev/git/Stodac/stodac/node_modules/vue-loader-v16/dist/index.js","mtime":1651081711512}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL2VtaWxpZW52aXZpZXIvRG9jdW1lbnRzL0Rldi9naXQvU3RvZGFjL3N0b2RhYy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICIvVXNlcnMvZW1pbGllbnZpdmllci9Eb2N1bWVudHMvRGV2L2dpdC9TdG9kYWMvc3RvZGFjL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuZGVzY3JpcHRpb24uanMiOwppbXBvcnQgeyBtYXBTdGF0ZSB9IGZyb20gInZ1ZXgiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogInBheXBhbCIsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHBhaWRGb3I6IGZhbHNlCiAgICB9OwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBzY3JpcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzY3JpcHQiKTsgLy8gc2NyaXB0LnNyYyA9ICJodHRwczovL3d3dy5wYXlwYWwuY29tL3Nkay9qcz9jbGllbnQtaWQ9QVNPV3AtXzF6eFdmNEVYRXp1YzQ3c3d6aHF1UFNCMlhjaEVIT1RNQjhZbXZfS3duYlF2QlhSSzlNNkJGS3FoU01UbDkwZE1TcF9xeFZReEomY3VycmVuY3k9RVVSIjsKCiAgICBzY3JpcHQuc3JjID0gImh0dHBzOi8vd3d3LnBheXBhbC5jb20vc2RrL2pzP2NsaWVudC1pZD1BUmQ1VzZtX0lmRXdyaXFGNWN0WGlwMkgtcm9FcXJKai1WWGlUb25QVnRaUVFNUWk4SDhMd3dwNEhlT09NWEFyZlA1QzVnaDcwdTFqMmNrVyZjdXJyZW5jeT1FVVIiOwogICAgc2NyaXB0LmFkZEV2ZW50TGlzdGVuZXIoImxvYWQiLCB0aGlzLnNldExvYWRlZCk7CiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHNjcmlwdCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBzZXRMb2FkZWQ6IGZ1bmN0aW9uIHNldExvYWRlZCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHRoaXMubG9hZGVkID0gdHJ1ZTsKICAgICAgd2luZG93LnBheXBhbC5CdXR0b25zKHsKICAgICAgICBjcmVhdGVPcmRlcjogZnVuY3Rpb24gY3JlYXRlT3JkZXIoZGF0YSwgYWN0aW9ucykgewogICAgICAgICAgcmV0dXJuIGFjdGlvbnMub3JkZXIuY3JlYXRlKHsKICAgICAgICAgICAgcHVyY2hhc2VfdW5pdHM6IFt7CiAgICAgICAgICAgICAgZGVzY3JpcHRpb246IF90aGlzLmRlc2NyaXB0aW9uLAogICAgICAgICAgICAgIGFtb3VudDogewogICAgICAgICAgICAgICAgdmFsdWU6IF90aGlzLnVzZXJJbmZvcy5zYXZlUHJpeC5wcml4X3R0bAogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfV0KICAgICAgICAgIH0pOwogICAgICAgIH0sCiAgICAgICAgb25BcHByb3ZlOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICB2YXIgX29uQXBwcm92ZSA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZShkYXRhLCBhY3Rpb25zKSB7CiAgICAgICAgICAgIHZhciBvcmRlcjsKICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgICAgIHJldHVybiBhY3Rpb25zLm9yZGVyLmNhcHR1cmUoKTsKCiAgICAgICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgICAgICBvcmRlciA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMuZGF0YTsKICAgICAgICAgICAgICAgICAgICBfdGhpcy5wYWlkRm9yID0gdHJ1ZTsKCiAgICAgICAgICAgICAgICAgICAgX3RoaXMuc2MoKTsKCiAgICAgICAgICAgICAgICAgICAgX3RoaXMuc2F2ZUZhY3R1cmUob3JkZXIuaWQpOwoKICAgICAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgICAgIH0pKTsKCiAgICAgICAgICBmdW5jdGlvbiBvbkFwcHJvdmUoX3gsIF94MikgewogICAgICAgICAgICByZXR1cm4gX29uQXBwcm92ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgICAgfQoKICAgICAgICAgIHJldHVybiBvbkFwcHJvdmU7CiAgICAgICAgfSgpLAogICAgICAgIG9uRXJyb3I6IGZ1bmN0aW9uIG9uRXJyb3IoZXJyKSB7CiAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpOwogICAgICAgIH0KICAgICAgfSkucmVuZGVyKHRoaXMuJHJlZnMucGF5cGFsKTsKICAgIH0KICB9LAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKHsKICAgIHRvdGFsOiBmdW5jdGlvbiB0b3RhbCgpIHsKICAgICAgdmFyIHRvdGFsID0gMDsKCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy4kc3RvcmUuc3RhdGUucGFubmllci5sZW5ndGg7IGkrKykgewogICAgICAgIHRvdGFsICs9IHRoaXMuJHN0b3JlLnN0YXRlLnBhbm5pZXJbaV0uYXJ0aWNsZS5wcmljZSAqIHRoaXMuJHN0b3JlLnN0YXRlLnBhbm5pZXJbaV0ucXR5OwogICAgICB9CgogICAgICByZXR1cm4gdG90YWw7CiAgICB9CiAgfSwgbWFwU3RhdGUoWyd1c2VySW5mb3MnXSkpLAogIHByb3BzOiB7CiAgICBzYXZlRmFjdHVyZTogRnVuY3Rpb24sCiAgICBzYzogRnVuY3Rpb24KICB9Cn07"},{"version":3,"sources":["/Users/emilienvivier/Documents/Dev/git/Stodac/stodac/src/components/forms/paypal.vue"],"names":[],"mappings":";;;;;AAOA,SAAQ,QAAR,QAAuB,MAAvB;AAEA,eAAe;AACb,EAAA,IAAI,EAAE,QADO;AAEb,EAAA,IAAI,EAAC,gBAAI;AACP,WAAM;AACJ,MAAA,OAAO,EAAE;AADL,KAAN;AAGD,GANY;AAOb,EAAA,OAPa,qBAOH;AACR,QAAM,MAAK,GAAI,QAAQ,CAAC,aAAT,CAAuB,QAAvB,CAAf,CADQ,CAER;;AACA,IAAA,MAAM,CAAC,GAAP,GAAa,uIAAb;AACA,IAAA,MAAM,CAAC,gBAAP,CAAwB,MAAxB,EAAgC,KAAK,SAArC;AACA,IAAA,QAAQ,CAAC,IAAT,CAAc,WAAd,CAA0B,MAA1B;AACD,GAbY;AAcb,EAAA,OAAO,EAAE;AACP,IAAA,SAAS,EAAE,qBAAY;AAAA;;AACrB,WAAK,MAAL,GAAc,IAAd;AACA,MAAA,MAAM,CAAC,MAAP,CACK,OADL,CACa;AACP,QAAA,WAAW,EAAE,qBAAC,IAAD,EAAO,OAAP,EAAmB;AAC9B,iBAAO,OAAO,CAAC,KAAR,CAAc,MAAd,CAAqB;AAC1B,YAAA,cAAc,EAAE,CACd;AACE,cAAA,WAAW,EAAE,KAAI,CAAC,WADpB;AAEE,cAAA,MAAM,EAAE;AACN,gBAAA,KAAK,EAAE,KAAI,CAAC,SAAL,CAAe,QAAf,CAAwB;AADzB;AAFV,aADc;AADU,WAArB,CAAP;AAUD,SAZM;AAaP,QAAA,SAAS;AAAA,mFAAE,iBAAO,IAAP,EAAa,OAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BACW,OAAO,CAAC,KAAR,CAAc,OAAd,EADX;;AAAA;AACH,oBAAA,KADG;AAET,oBAAA,KAAI,CAAC,IAAL;AACA,oBAAA,KAAI,CAAC,OAAL,GAAe,IAAf;;AACA,oBAAA,KAAI,CAAC,EAAL;;AACA,oBAAA,KAAI,CAAC,WAAL,CAAiB,KAAK,CAAC,EAAvB;;AALS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAF;;AAAA;AAAA;AAAA;;AAAA;AAAA,WAbF;AAoBP,QAAA,OAAO,EAAE,iBAAA,GAAE,EAAK;AACd,UAAA,OAAO,CAAC,GAAR,CAAY,GAAZ;AACF;AAtBO,OADb,EAyBK,MAzBL,CAyBY,KAAK,KAAL,CAAW,MAzBvB;AA0BD;AA7BM,GAdI;AA6Cb,EAAA,QAAQ;AACN,IAAA,KAAK,EAAE,iBAAY;AACjB,UAAI,KAAI,GAAI,CAAZ;;AACA,WAAI,IAAI,CAAA,GAAI,CAAZ,EAAe,CAAC,GAAC,KAAK,MAAL,CAAY,KAAZ,CAAkB,OAAlB,CAA0B,MAA3C,EAAmD,CAAC,EAApD,EAAuD;AACrD,QAAA,KAAI,IAAK,KAAK,MAAL,CAAY,KAAZ,CAAkB,OAAlB,CAA0B,CAA1B,EAA6B,OAA7B,CAAqC,KAArC,GAA6C,KAAK,MAAL,CAAY,KAAZ,CAAkB,OAAlB,CAA0B,CAA1B,EAA6B,GAAnF;AACF;;AACA,aAAO,KAAP;AACD;AAPK,KAQH,QAAQ,CAAC,CAAC,WAAD,CAAD,CARL,CA7CK;AAuDb,EAAA,KAAK,EAAC;AACJ,IAAA,WAAW,EAAC,QADR;AAEJ,IAAA,EAAE,EAAC;AAFC;AAvDO,CAAf","sourcesContent":["<template>\n  <div class=\"Payment\">\n    <div ref=\"paypal\" id=\"paypal-button-container\"></div>\n  </div>\n</template>\n\n<script>\nimport {mapState} from \"vuex\";\n\nexport default {\n  name: \"paypal\",\n  data:()=>{\n    return{\n      paidFor: false,\n    }\n  },\n  mounted() {\n    const script = document.createElement(\"script\");\n    // script.src = \"https://www.paypal.com/sdk/js?client-id=ASOWp-_1zxWf4EXEzuc47swzhquPSB2XchEHOTMB8Ymv_KwnbQvBXRK9M6BFKqhSMTl90dMSp_qxVQxJ&currency=EUR\";\n    script.src = \"https://www.paypal.com/sdk/js?client-id=ARd5W6m_IfEwriqF5ctXip2H-roEqrJj-VXiTonPVtZQQMQi8H8Lwwp4HeOOMXArfP5C5gh70u1j2ckW&currency=EUR\";\n    script.addEventListener(\"load\", this.setLoaded);\n    document.body.appendChild(script)\n  },\n  methods: {\n    setLoaded: function () {\n      this.loaded = true;\n      window.paypal\n          .Buttons({\n            createOrder: (data, actions) => {\n              return actions.order.create({\n                purchase_units: [\n                  {\n                    description: this.description,\n                    amount: {\n                      value: this.userInfos.savePrix.prix_ttl\n                    }\n                  }\n                ]\n              });\n            },\n            onApprove: async (data, actions) => {\n              const order = await actions.order.capture();\n              this.data;\n              this.paidFor = true;\n              this.sc()\n              this.saveFacture(order.id)\n            },\n            onError: err => {\n              console.log(err);\n            }\n          })\n          .render(this.$refs.paypal);\n    },\n  },\n  computed: {\n    total: function () {\n      let total = 0;\n      for(let i = 0; i<this.$store.state.pannier.length; i++){\n        total += this.$store.state.pannier[i].article.price * this.$store.state.pannier[i].qty;\n      }\n      return total\n    },\n    ...mapState(['userInfos']),\n  },\n  props:{\n    saveFacture:Function,\n    sc:Function\n  }\n}\n</script>\n\n<style scoped>\n#paypal-button-container{\n  display: flex;\n  justify-content: center;\n  z-index: 10;\n  background-color: #fff;\n}\n</style>"],"sourceRoot":""}]}