{"remainingRequest":"C:\\Users\\tobie\\Documents\\GitHub\\Stodac2\\Stodac\\stodac\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\tobie\\Documents\\GitHub\\Stodac2\\Stodac\\stodac\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\tobie\\Documents\\GitHub\\Stodac2\\Stodac\\stodac\\src\\store\\index.js","dependencies":[{"path":"C:\\Users\\tobie\\Documents\\GitHub\\Stodac2\\Stodac\\stodac\\src\\store\\index.js","mtime":1639935638749},{"path":"C:\\Users\\tobie\\Documents\\GitHub\\Stodac2\\Stodac\\stodac\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1639935629786},{"path":"C:\\Users\\tobie\\Documents\\GitHub\\Stodac2\\Stodac\\stodac\\node_modules\\babel-loader\\lib\\index.js","mtime":1639935629527},{"path":"C:\\Users\\tobie\\Documents\\GitHub\\Stodac2\\Stodac\\stodac\\node_modules\\eslint-loader\\index.js","mtime":1639935632217}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNwbGljZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5jb25jYXQuanMiOwppbXBvcnQgeyBjcmVhdGVTdG9yZSB9IGZyb20gJ3Z1ZXgnOwoKdmFyIGF4aW9zID0gcmVxdWlyZSgnYXhpb3MnKTsKCnZhciBpbnN0YW5jZSA9IGF4aW9zLmNyZWF0ZSh7CiAgYmFzZVVSTDogJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvJwp9KTsKdmFyIHVzZXIgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlcicpOwp2YXIgcGFubmllciA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdwYW5uaWVyJyk7CgppZiAoIXBhbm5pZXIpIHsKICBwYW5uaWVyID0gW107Cn0gZWxzZSB7CiAgdHJ5IHsKICAgIHBhbm5pZXIgPSBKU09OLnBhcnNlKHBhbm5pZXIpOwogIH0gY2F0Y2ggKF91bnVzZWQpIHsKICAgIHBhbm5pZXIgPSBbXTsKICB9Cn0KCmlmICghdXNlcikgewogIHVzZXIgPSB7CiAgICB1c2VySUQ6IC0xLAogICAgdG9rZW46ICcnCiAgfTsKfSBlbHNlIHsKICB0cnkgewogICAgdXNlciA9IEpTT04ucGFyc2UodXNlcik7CiAgICBpbnN0YW5jZS5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vblsnQXV0aG9yaXphdGlvbiddID0gJ0JlYXJlciAnICsgdXNlci50b2tlbjsKICB9IGNhdGNoIChfdW51c2VkMikgewogICAgdXNlciA9IHsKICAgICAgdXNlcklEOiAtMSwKICAgICAgdG9rZW46ICcnCiAgICB9OwogIH0KfQoKZXhwb3J0IGRlZmF1bHQgY3JlYXRlU3RvcmUoewogIHN0YXRlOiB7CiAgICBzdGF0dXM6ICcnLAogICAgdXNlckluZm9zOiB7CiAgICAgIGxhc3ROYW1lOiAnJywKICAgICAgZmlyc3ROYW1lOiAnJywKICAgICAgZW1haWw6ICcnLAogICAgICBpc0FkbWluOiBmYWxzZQogICAgfSwKICAgIG5iU3R1ZmY6IDAsCiAgICB1c2VyOiB1c2VyLAogICAgc3R1ZmZzOiBbXSwKICAgIHBhbm5pZXI6IHBhbm5pZXIKICB9LAogIG11dGF0aW9uczogewogICAgc2V0U3RhdHVzOiBmdW5jdGlvbiBzZXRTdGF0dXMoc3RhdGUsIHN0YXR1cykgewogICAgICBzdGF0ZS5zdGF0dXMgPSBzdGF0dXM7CiAgICB9LAogICAgbG9nVXNlcjogZnVuY3Rpb24gbG9nVXNlcihzdGF0ZSwgdXNlcikgewogICAgICBpbnN0YW5jZS5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vblsnQXV0aG9yaXphdGlvbiddID0gJ0JlYXJlciAnICsgdXNlci50b2tlbjsKICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3VzZXInLCBKU09OLnN0cmluZ2lmeSh1c2VyKSk7CiAgICAgIHN0YXRlLnVzZXIgPSB1c2VyOwogICAgfSwKICAgIGxvZ091dDogZnVuY3Rpb24gbG9nT3V0KHN0YXRlKSB7CiAgICAgIHN0YXRlLnVzZXIgPSB7CiAgICAgICAgdXNlcklEOiAtMSwKICAgICAgICB0b2tlbjogJycKICAgICAgfTsKICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ3VzZXInKTsKICAgIH0sCiAgICB1c2VySW5mb3M6IGZ1bmN0aW9uIHVzZXJJbmZvcyhzdGF0ZSwgX3VzZXJJbmZvcykgewogICAgICBzdGF0ZS51c2VySW5mb3MgPSBfdXNlckluZm9zOwogICAgICBzdGF0ZS51c2VySW5mb3MuaXNBZG1pbiA9IGZhbHNlOwogICAgfSwKICAgIGFkbWluSW5mb3M6IGZ1bmN0aW9uIGFkbWluSW5mb3Moc3RhdGUsIHVzZXJJbmZvcykgewogICAgICBjb25zb2xlLmxvZygnQWRtaW5JbmZvcyBUdSBjb2NvIEVLSVAgTUVTU0FHRSBMT05nIHBvdXIgQkllbiBMRUYgdm9pcmUgJyk7CiAgICAgIHN0YXRlLnVzZXJJbmZvcyA9IHVzZXJJbmZvczsKICAgICAgc3RhdGUudXNlckluZm9zLmlzQWRtaW4gPSB0cnVlOwogICAgfSwKICAgIHN0dWZmczogZnVuY3Rpb24gc3R1ZmZzKHN0YXRlLCBfc3R1ZmZzKSB7CiAgICAgIHN0YXRlLnN0dWZmcyA9IF9zdHVmZnM7CiAgICB9LAogICAgc3R1ZmZzQnk6IGZ1bmN0aW9uIHN0dWZmc0J5KHN0YXRlLCBzdHVmZnMpIHsKICAgICAgc3RhdGUuc3R1ZmZzID0gc3R1ZmZzOwogICAgICBzdGF0ZS5uYlN0dWZmID0gMDsKICAgIH0sCiAgICBwcm9kdWN0OiBmdW5jdGlvbiBwcm9kdWN0KHN0YXRlLCBfcHJvZHVjdCkgewogICAgICBzdGF0ZS5wcm9kdWN0ID0gX3Byb2R1Y3Q7CiAgICB9LAogICAgY291bnQ6IGZ1bmN0aW9uIGNvdW50KHN0YXRlLCBuYikgewogICAgICBzdGF0ZS5uYlN0dWZmID0gbmI7CiAgICB9LAogICAgYWRkUGFubmllck11dGF0aW9uOiBmdW5jdGlvbiBhZGRQYW5uaWVyTXV0YXRpb24oc3RhdGUsIGEpIHsKICAgICAgdmFyIGhhc0JlZW5Gb3VuZCA9IGZhbHNlOwoKICAgICAgaWYgKHN0YXRlLnBhbm5pZXIubGVuZ3RoICE9PSAwKSB7CiAgICAgICAgc3RhdGUucGFubmllci5mb3JFYWNoKGZ1bmN0aW9uIChpKSB7CiAgICAgICAgICBpZiAoaS5hcnRpY2xlLl9pZCA9PT0gYS5hcnRpY2xlLl9pZCkgewogICAgICAgICAgICBpLnF0eSArPSBhLnF0eTsKICAgICAgICAgICAgY29uc29sZS5sb2coJyAnICsgaS5xdHkpOwogICAgICAgICAgICBoYXNCZWVuRm91bmQgPSB0cnVlOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9CgogICAgICBpZiAoIWhhc0JlZW5Gb3VuZCkgewogICAgICAgIHN0YXRlLnBhbm5pZXIucHVzaChhKTsKICAgICAgfQoKICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3Bhbm5pZXInLCBKU09OLnN0cmluZ2lmeShzdGF0ZS5wYW5uaWVyKSk7CiAgICB9LAogICAgc3VwclBhbm5pZXJNdXRhdGlvbjogZnVuY3Rpb24gc3VwclBhbm5pZXJNdXRhdGlvbihzdGF0ZSwgYSkgewogICAgICB2YXIgaW5kZXggPSAwOwogICAgICBzdGF0ZS5wYW5uaWVyLmZvckVhY2goZnVuY3Rpb24gKGkpIHsKICAgICAgICBpZiAoaS5hcnRpY2xlLl9pZCA9PT0gYS5faWQpIHsKICAgICAgICAgIHN0YXRlLnBhbm5pZXIuc3BsaWNlKGluZGV4LCAxKTsKICAgICAgICB9CgogICAgICAgIGluZGV4Kys7CiAgICAgIH0pOwogICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgncGFubmllcicsIEpTT04uc3RyaW5naWZ5KHN0YXRlLnBhbm5pZXIpKTsKICAgIH0sCiAgICBhZGRPbmVRdHk6IGZ1bmN0aW9uIGFkZE9uZVF0eShzdGF0ZSwgaWQpIHsKICAgICAgdmFyIGluZGV4ID0gMDsKICAgICAgc3RhdGUucGFubmllci5mb3JFYWNoKGZ1bmN0aW9uIChpKSB7CiAgICAgICAgaWYgKGkuYXJ0aWNsZS5faWQgPT09IGlkKSB7CiAgICAgICAgICBzdGF0ZS5wYW5uaWVyW2luZGV4XSA9IHsKICAgICAgICAgICAgJ2FydGljbGUnOiBzdGF0ZS5wYW5uaWVyW2luZGV4XS5hcnRpY2xlLAogICAgICAgICAgICAncXR5Jzogc3RhdGUucGFubmllcltpbmRleF0ucXR5ICs9IDEKICAgICAgICAgIH07CiAgICAgICAgfQoKICAgICAgICBpbmRleCsrOwogICAgICB9KTsKICAgICAgY29uc29sZS5sb2coc3RhdGUucGFubmllcik7CiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdwYW5uaWVyJywgSlNPTi5zdHJpbmdpZnkoc3RhdGUucGFubmllcikpOwogICAgfSwKICAgIGxlc3NPbmVRdHk6IGZ1bmN0aW9uIGxlc3NPbmVRdHkoc3RhdGUsIGlkKSB7CiAgICAgIHZhciBpbmRleCA9IDA7CiAgICAgIHN0YXRlLnBhbm5pZXIuZm9yRWFjaChmdW5jdGlvbiAoaSkgewogICAgICAgIGlmIChpLmFydGljbGUuX2lkID09PSBpZCkgewogICAgICAgICAgc3RhdGUucGFubmllcltpbmRleF0gPSB7CiAgICAgICAgICAgICdhcnRpY2xlJzogc3RhdGUucGFubmllcltpbmRleF0uYXJ0aWNsZSwKICAgICAgICAgICAgJ3F0eSc6IHN0YXRlLnBhbm5pZXJbaW5kZXhdLnF0eSAtPSAxCiAgICAgICAgICB9OwogICAgICAgIH0KCiAgICAgICAgaW5kZXgrKzsKICAgICAgfSk7CiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdwYW5uaWVyJywgSlNPTi5zdHJpbmdpZnkoc3RhdGUucGFubmllcikpOwogICAgfQogIH0sCiAgYWN0aW9uczogewogICAgbG9naW46IGZ1bmN0aW9uIGxvZ2luKF9yZWYsIHVzZXJJbmZvcykgewogICAgICB2YXIgY29tbWl0ID0gX3JlZi5jb21taXQ7CiAgICAgIGNvbW1pdCgnc2V0U3RhdHVzJywgJ2xvYWRpbmcnKTsKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgICBpbnN0YW5jZS5wb3N0KCcvdXNlci9sb2dpbi9tYWlsJywgdXNlckluZm9zKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgY29tbWl0KCdzZXRTdGF0dXMnLCAnQ29ubmVjdMOpJyk7CiAgICAgICAgICBjb21taXQoJ2xvZ1VzZXInLCByZXNwb25zZS5kYXRhKTsKICAgICAgICAgIHJlc29sdmUocmVzcG9uc2UpOwogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgY29tbWl0KCdzZXRTdGF0dXMnLCAnZXJyb3JfbG9naW4nKTsKICAgICAgICAgIHJlamVjdChlcnJvcik7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIGxvZ2luQWRtaW46IGZ1bmN0aW9uIGxvZ2luQWRtaW4oX3JlZjIsIGFkbWluSW5mb3MpIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWYyLmNvbW1pdDsKICAgICAgY29tbWl0KCdzZXRTdGF0dXMnLCAnbG9hZGluZycpOwogICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICAgIGluc3RhbmNlLnBvc3QoJy91c2VyL2xvZ2luL2FkbWluJywgYWRtaW5JbmZvcykudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgIGNvbW1pdCgnc2V0U3RhdHVzJywgJ0Nvbm5lY3TDqScpOwogICAgICAgICAgY29tbWl0KCdsb2dVc2VyJywgcmVzcG9uc2UuZGF0YSk7CiAgICAgICAgICByZXNvbHZlKHJlc3BvbnNlKTsKICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgIGNvbW1pdCgnc2V0U3RhdHVzJywgJ2Vycm9yX2xvZ2luJyk7CiAgICAgICAgICByZWplY3QoZXJyb3IpOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICBjcmVhdGVBY2NvdW50OiBmdW5jdGlvbiBjcmVhdGVBY2NvdW50KF9yZWYzLCB1c2VySW5mb3MpIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWYzLmNvbW1pdDsKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgICBjb21taXQoJ3NldFN0YXR1cycsICdsb2FkaW5nJyk7CiAgICAgICAgaW5zdGFuY2UucG9zdCgnL3VzZXIvc2lnbnVwJywgdXNlckluZm9zKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgY29tbWl0KCdzZXRTdGF0dXMnLCAnY3JlYXRlZCcpOwogICAgICAgICAgcmVzb2x2ZShyZXNwb25zZSk7CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICBjb21taXQoJ3NldFN0YXR1cycsICdlcnJvcl9jcmVhdGUnKTsKICAgICAgICAgIHJlamVjdChlcnJvcik7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIGdldFVzZXJJbmZvczogZnVuY3Rpb24gZ2V0VXNlckluZm9zKF9yZWY0KSB7CiAgICAgIHZhciBjb21taXQgPSBfcmVmNC5jb21taXQsCiAgICAgICAgICBzdGF0ZSA9IF9yZWY0LnN0YXRlOwogICAgICBpbnN0YW5jZS5nZXQoIi91c2VyL2dldGluZm9zLyIuY29uY2F0KHN0YXRlLnVzZXIudXNlcklEKSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBjb21taXQoJ3VzZXJJbmZvcycsIHJlc3BvbnNlLmRhdGFbMF0pOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgIH0pOwogICAgfSwKICAgIGdldFN0dWZzOiBmdW5jdGlvbiBnZXRTdHVmcyhfcmVmNSwgbmJsb2FkZWQpIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWY1LmNvbW1pdDsKICAgICAgaW5zdGFuY2UuZ2V0KCIvc3R1ZmYvYWxsLyIuY29uY2F0KG5ibG9hZGVkICogMjAsICIvIikuY29uY2F0KChuYmxvYWRlZCAtIDEpICogMjApKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIGNvbW1pdCgnc3R1ZmZzJywgcmVzcG9uc2UuZGF0YSk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgfSk7CiAgICB9LAogICAgZ2V0U3R1ZnNDYXRlZ29yeTogZnVuY3Rpb24gZ2V0U3R1ZnNDYXRlZ29yeShfcmVmNiwgY2F0ZWdvcnkpIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWY2LmNvbW1pdDsKICAgICAgaW5zdGFuY2UuZ2V0KCIvc3R1ZmYvY2F0ZWdvcnkvIi5jb25jYXQoY2F0ZWdvcnkpKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIGNvbW1pdCgnc3R1ZmZzQnknLCByZXNwb25zZS5kYXRhKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICB9KTsKICAgIH0sCiAgICBnZXRTdHVmc01hbnVmYWN0dXJlOiBmdW5jdGlvbiBnZXRTdHVmc01hbnVmYWN0dXJlKF9yZWY3LCBtYW51ZmFjdHVyZXIpIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWY3LmNvbW1pdDsKICAgICAgaW5zdGFuY2UuZ2V0KCIvc3R1ZmYvbWFudWZhY3R1cmVyLyIuY29uY2F0KG1hbnVmYWN0dXJlcikpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgY29tbWl0KCdzdHVmZnNCeScsIHJlc3BvbnNlLmRhdGEpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgIH0pOwogICAgfSwKICAgIGdldFN0dWZmQnlGaXJzdExldHRlcnM6IGZ1bmN0aW9uIGdldFN0dWZmQnlGaXJzdExldHRlcnMoX3JlZjgsIHdvcmQpIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWY4LmNvbW1pdDsKICAgICAgaW5zdGFuY2UuZ2V0KCIvc3R1ZmYvbmFtZS8iLmNvbmNhdCh3b3JkLCAiLzIwIikpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgY29tbWl0KCdzdHVmZnNCeScsIHJlc3BvbnNlLmRhdGEpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgIH0pOwogICAgfSwKICAgIGdldFN0dWZmTmI6IGZ1bmN0aW9uIGdldFN0dWZmTmIoX3JlZjkpIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWY5LmNvbW1pdDsKICAgICAgaW5zdGFuY2UuZ2V0KCIvc3R1ZmYvY291bnQvIikudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBjb21taXQoJ2NvdW50JywgcmVzcG9uc2UuZGF0YSk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgfSk7CiAgICB9LAogICAgYWRkUGFubmllcjogZnVuY3Rpb24gYWRkUGFubmllcihfcmVmMTAsIGEpIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWYxMC5jb21taXQ7CiAgICAgIGNvbW1pdCgnYWRkUGFubmllck11dGF0aW9uJywgYSk7CiAgICB9LAogICAgc3VwclBhbm5pZXI6IGZ1bmN0aW9uIHN1cHJQYW5uaWVyKF9yZWYxMSwgYSkgewogICAgICB2YXIgY29tbWl0ID0gX3JlZjExLmNvbW1pdDsKICAgICAgY29tbWl0KCdzdXByUGFubmllck11dGF0aW9uJywgYSk7CiAgICB9LAogICAgYWRkT25lOiBmdW5jdGlvbiBhZGRPbmUoX3JlZjEyLCBhKSB7CiAgICAgIHZhciBjb21taXQgPSBfcmVmMTIuY29tbWl0OwogICAgICBjb21taXQoJ2FkZE9uZVF0eScsIGEpOwogICAgfSwKICAgIGxlc3NPbmU6IGZ1bmN0aW9uIGxlc3NPbmUoX3JlZjEzLCBhKSB7CiAgICAgIHZhciBjb21taXQgPSBfcmVmMTMuY29tbWl0OwogICAgICBjb21taXQoJ2xlc3NPbmVRdHknLCBhKTsKICAgIH0KICB9LAogIG1vZHVsZXM6IHt9Cn0pOw=="},{"version":3,"sources":["C:/Users/tobie/Documents/GitHub/Stodac2/Stodac/stodac/src/store/index.js"],"names":["createStore","axios","require","instance","create","baseURL","user","localStorage","getItem","pannier","JSON","parse","userID","token","defaults","headers","common","state","status","userInfos","lastName","firstName","email","isAdmin","nbStuff","stuffs","mutations","setStatus","logUser","setItem","stringify","logOut","removeItem","adminInfos","console","log","stuffsBy","product","count","nb","addPannierMutation","a","hasBeenFound","length","forEach","i","article","_id","qty","push","suprPannierMutation","index","splice","addOneQty","id","lessOneQty","actions","login","commit","Promise","resolve","reject","post","then","response","data","catch","error","loginAdmin","createAccount","getUserInfos","get","getStufs","nbloaded","getStufsCategory","category","getStufsManufacture","manufacturer","getStuffByFirstLetters","word","getStuffNb","addPannier","suprPannier","addOne","lessOne","modules"],"mappings":"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","sourcesContent":["import { createStore } from 'vuex'\r\nconst axios = require('axios');\r\n\r\nconst instance = axios.create({\r\n  baseURL : 'http://localhost:3000/api/'\r\n})\r\n\r\nlet user = localStorage.getItem('user');\r\nlet pannier = localStorage.getItem('pannier');\r\n\r\nif(!pannier){\r\n  pannier = []\r\n}\r\nelse{\r\n  try{\r\n    pannier = JSON.parse(pannier);\r\n  }catch{\r\n    pannier = [];\r\n  }\r\n}\r\n\r\nif(!user){\r\n  user = {\r\n    userID: -1,\r\n    token: ''\r\n  }\r\n}else{\r\n  try{\r\n    user = JSON.parse(user);\r\n    instance.defaults.headers.common['Authorization'] = 'Bearer ' + user.token\r\n    }catch{\r\n      user = {\r\n        userID: -1,\r\n        token: ''\r\n      };\r\n    }\r\n}\r\n\r\nexport default createStore({\r\n  state: {\r\n    status:'',\r\n    userInfos: {\r\n      lastName:'',\r\n      firstName:'',\r\n      email:'',\r\n      isAdmin:false\r\n    },\r\n    nbStuff:0,\r\n    user : user,\r\n    stuffs:[],\r\n    pannier: pannier\r\n  },\r\n  mutations: {\r\n    setStatus: function(state, status){\r\n      state.status = status;\r\n    },\r\n    logUser: function(state, user){\r\n      instance.defaults.headers.common['Authorization'] = 'Bearer ' + user.token\r\n      localStorage.setItem('user', JSON.stringify(user));\r\n      state.user = user;\r\n    },\r\n    logOut: function(state){\r\n      state.user = {\r\n          userID: -1,\r\n          token: ''\r\n      }\r\n      localStorage.removeItem('user');\r\n    },\r\n    userInfos : function(state, userInfos){\r\n      state.userInfos = userInfos\r\n      state.userInfos.isAdmin = false;\r\n    },\r\n    adminInfos : function(state, userInfos){\r\n      console.log('AdminInfos Tu coco EKIP MESSAGE LONg pour BIen LEF voire ');\r\n      state.userInfos = userInfos\r\n      state.userInfos.isAdmin = true;\r\n    },\r\n    stuffs: function(state, stuffs){\r\n      state.stuffs = stuffs\r\n    },\r\n    stuffsBy: function(state, stuffs){\r\n      state.stuffs = stuffs\r\n      state.nbStuff = 0\r\n    },\r\n    product: function(state, product){\r\n      state.product = product\r\n    },\r\n    count : function(state, nb){\r\n      state.nbStuff = nb\r\n    },\r\n    addPannierMutation : function(state, a){\r\n      let hasBeenFound = false;\r\n      if(state.pannier.length !== 0){\r\n        state.pannier.forEach(i => {\r\n          if(i.article._id === a.article._id){\r\n            i.qty += a.qty\r\n            console.log(' ' + i.qty)\r\n            hasBeenFound = true;\r\n          }\r\n        });\r\n      }\r\n      if(!hasBeenFound){\r\n        state.pannier.push(a); \r\n      }\r\n      localStorage.setItem('pannier', JSON.stringify(state.pannier));\r\n    },\r\n    suprPannierMutation : function(state, a){\r\n      let index = 0;\r\n      state.pannier.forEach(i => {\r\n        if(i.article._id === a._id){\r\n          state.pannier.splice(index, 1);\r\n        }\r\n        index++\r\n      });\r\n      localStorage.setItem('pannier', JSON.stringify(state.pannier));\r\n    },\r\n    addOneQty : function(state, id){\r\n      let index = 0;\r\n      state.pannier.forEach(i => {\r\n        if(i.article._id === id){\r\n          state.pannier[index] = {'article' : state.pannier[index].article, 'qty' : state.pannier[index].qty +=1 }\r\n        }\r\n        index++\r\n      });\r\n      console.log(state.pannier)\r\n      localStorage.setItem('pannier', JSON.stringify(state.pannier));\r\n    },\r\n    lessOneQty : function(state, id){\r\n      let index = 0;\r\n      state.pannier.forEach(i => {\r\n        if(i.article._id === id){\r\n          state.pannier[index] = {'article' : state.pannier[index].article, 'qty' : state.pannier[index].qty -=1 }\r\n        }\r\n        index++\r\n      });\r\n      localStorage.setItem('pannier', JSON.stringify(state.pannier));\r\n    },\r\n  },\r\n  actions: {\r\n    login : ({commit}, userInfos) => {\r\n      commit('setStatus', 'loading');\r\n      return new Promise((resolve, reject) =>{\r\n        instance.post('/user/login/mail', userInfos)\r\n        .then(function (response) {\r\n          commit('setStatus', 'Connecté');\r\n          commit('logUser', response.data);\r\n          resolve(response);\r\n        })\r\n        .catch(function (error) {\r\n          commit('setStatus', 'error_login');\r\n          reject(error);\r\n        });\r\n      });\r\n    },\r\n    loginAdmin : ({commit}, adminInfos) => {\r\n      commit('setStatus', 'loading');\r\n      return new Promise((resolve, reject) =>{\r\n        instance.post('/user/login/admin', adminInfos)\r\n            .then(function (response) {\r\n              commit('setStatus', 'Connecté');\r\n              commit('logUser', response.data);\r\n              resolve(response);\r\n            })\r\n            .catch(function (error) {\r\n              commit('setStatus', 'error_login');\r\n              reject(error);\r\n            });\r\n      });\r\n    },\r\n    createAccount : ({commit}, userInfos) => {\r\n      return new Promise((resolve, reject) =>{\r\n        commit('setStatus', 'loading');\r\n        instance.post('/user/signup', userInfos)\r\n        .then(function (response) {\r\n          commit('setStatus', 'created')\r\n          resolve(response);\r\n        })\r\n        .catch(function (error) {\r\n          commit('setStatus', 'error_create')\r\n          reject(error);\r\n        });\r\n      });\r\n    },\r\n    getUserInfos: ({commit, state})=>{\r\n      instance.get(`/user/getinfos/${state.user.userID}`)\r\n      .then(function(response) {\r\n        commit('userInfos', response.data[0]);\r\n      })\r\n      .catch( function (error) {\r\n        console.log(error);\r\n      })\r\n    },\r\n    getStufs: ({commit}, nbloaded )=>{\r\n      instance.get(`/stuff/all/${nbloaded*20}/${(nbloaded-1)*20}`)\r\n      .then(function(response){\r\n        commit('stuffs', response.data)\r\n      })\r\n      .catch(function(error){\r\n        console.log(error)\r\n      })\r\n    },\r\n    getStufsCategory: ({commit}, category)=>{\r\n      instance.get(`/stuff/category/${category}`)\r\n      .then(function(response){\r\n        commit('stuffsBy', response.data)\r\n      })\r\n      .catch(function(error){\r\n        console.log(error)\r\n      })\r\n    },\r\n    getStufsManufacture: ({commit}, manufacturer)=>{\r\n      instance.get(`/stuff/manufacturer/${manufacturer}`)\r\n      .then(function(response){\r\n        commit('stuffsBy', response.data)\r\n      })\r\n      .catch(function(error){\r\n        console.log(error)\r\n      })\r\n    },\r\n    getStuffByFirstLetters : ({commit}, word) => {\r\n      instance.get(`/stuff/name/${word}/20`)\r\n      .then(function(response){\r\n        commit('stuffsBy', response.data)\r\n      })\r\n      .catch(function(error){\r\n        console.log(error)\r\n      })\r\n    },\r\n    getStuffNb : ({commit}) => {\r\n      instance.get(`/stuff/count/`)\r\n      .then(function(response){\r\n        commit('count', response.data)\r\n      })\r\n      .catch(function(error){\r\n        console.log(error)\r\n      })\r\n    },\r\n    addPannier : ({commit}, a) =>{\r\n      commit('addPannierMutation', a)\r\n    },\r\n    suprPannier : ({commit}, a) =>{\r\n      commit('suprPannierMutation', a)\r\n    },\r\n    addOne : ({commit}, a) =>{\r\n      commit('addOneQty', a)\r\n    },\r\n    lessOne : ({commit}, a) =>{\r\n      commit('lessOneQty', a)\r\n    },\r\n  },\r\n  modules: {\r\n  }\r\n})\r\n"]}]}