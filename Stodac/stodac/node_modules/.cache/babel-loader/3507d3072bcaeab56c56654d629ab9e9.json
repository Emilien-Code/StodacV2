{"remainingRequest":"C:\\Users\\Elève\\Documents\\GitHub\\StodacV2\\Stodac\\stodac\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Elève\\Documents\\GitHub\\StodacV2\\Stodac\\stodac\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Elève\\Documents\\GitHub\\StodacV2\\Stodac\\stodac\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\Elève\\Documents\\GitHub\\StodacV2\\Stodac\\stodac\\src\\components\\infoCommande\\infoCommandeAdmin.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\Elève\\Documents\\GitHub\\StodacV2\\Stodac\\stodac\\src\\components\\infoCommande\\infoCommandeAdmin.vue","mtime":1658212549851},{"path":"C:\\Users\\Elève\\Documents\\GitHub\\StodacV2\\Stodac\\stodac\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1658212511278},{"path":"C:\\Users\\Elève\\Documents\\GitHub\\StodacV2\\Stodac\\stodac\\node_modules\\babel-loader\\lib\\index.js","mtime":1658212510397},{"path":"C:\\Users\\Elève\\Documents\\GitHub\\StodacV2\\Stodac\\stodac\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1658212511278},{"path":"C:\\Users\\Elève\\Documents\\GitHub\\StodacV2\\Stodac\\stodac\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1658212546597}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:dmFyIGNsaWNrT3V0c2lkZSA9IGZ1bmN0aW9uIGNsaWNrT3V0c2lkZShlbCwgYmluZGluZykgewogIGVsLmNsaWNrT3V0c2lkZUV2ZW50ID0gZnVuY3Rpb24gKGV2ZW50KSB7CiAgICBpZiAoIWVsLmNvbnRhaW5zKGV2ZW50LnRhcmdldCkpIHsKICAgICAgYmluZGluZy52YWx1ZSgpOwogICAgfQogIH07CgogIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlbC5jbGlja091dHNpZGVFdmVudCk7Cn07CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogImluZm9Db21tYW5kZUFkbWluIiwKICBwcm9wczogewogICAgY29tbWFuZGU6IE9iamVjdAogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGlzT3BlbjogZmFsc2UsCiAgICAgIGNvbG9yOiBbInllbGxvdyIsICJ5ZWxsb3ciLCAieWVsbG93IiwgIkFxdWFtYXJpbmUiLCAiTGlnaHRHcmVlbiIsICJsaWdodENvcmFsIiwgImxpZ2h0Q29yYWwiLCAibGlnaHRDb3JhbCJdLAogICAgICBjaG9peGV0YXQ6ICIiCiAgICB9OwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgd2luZG93LnNjcm9sbCgwLCAwKTsKICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICBfdGhpcy5pc09wZW4gPSB0cnVlOwogICAgfSwgNTAwKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGNsb3NlOiBmdW5jdGlvbiBjbG9zZSgpIHsKICAgICAgaWYgKHRoaXMuaXNPcGVuKSB7CiAgICAgICAgdGhpcy4kcGFyZW50LmNsaWNrKCk7CiAgICAgICAgdGhpcy5pc09wZW4gPSBmYWxzZTsKICAgICAgICB0aGlzLiRwYXJlbnQuYWN0dWFsaXplKCk7CiAgICAgIH0KICAgIH0sCiAgICBhZmZpY2hlRmFjdHVyZTogZnVuY3Rpb24gYWZmaWNoZUZhY3R1cmUobm9tRmFjdHVyZSkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgbmFtZTogImZhY3R1cmVBZG0iLAogICAgICAgIHBhcmFtczogewogICAgICAgICAgbnVtZmFjdHVyZTogbm9tRmFjdHVyZQogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgc2F2ZWNoYW5nZW1lbnQ6IGZ1bmN0aW9uIHNhdmVjaGFuZ2VtZW50KCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHZhciBwYXJhbWV0cmUgPSB7CiAgICAgICAgaWQ6IHRoaXMuY29tbWFuZGUuY29tYW5kZS5pZCwKICAgICAgICBldGF0OiB0aGlzLmNvbW1hbmRlLmNvbWFuZGUubm9tZXRhdC5pbmRleE9mKHRoaXMuY2hvaXhldGF0KQogICAgICB9OwoKICAgICAgaWYgKHRoaXMuY29tbWFuZGUuY29tYW5kZS5ub21ldGF0W3RoaXMuY29tbWFuZGUuY29tYW5kZS5ldGF0XSAhPSB0aGlzLmNob2l4ZXRhdCkgewogICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdjaGFuZ2VFdGF0JywgcGFyYW1ldHJlKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIF90aGlzMi5jaG9peGV0YXQgPSAiIjsKCiAgICAgICAgICBfdGhpczIuY2xvc2UoKTsKICAgICAgICB9KTsKICAgICAgfQogICAgfQogIH0sCiAgZGlyZWN0aXZlczogewogICAgY2xpY2tPdXRzaWRlOiBjbGlja091dHNpZGUKICB9Cn07"},{"version":3,"sources":["C:\\Users\\Elève\\Documents\\GitHub\\StodacV2\\Stodac\\stodac\\src\\components\\infoCommande\\infoCommandeAdmin.vue"],"names":[],"mappings":"AAyFA,IAAI,YAAW,GAAI,SAAf,YAAe,CAAS,EAAT,EAAa,OAAb,EAAsB;AACvC,EAAA,EAAE,CAAC,iBAAH,GAAuB,UAAU,KAAV,EAAiB;AACtC,QAAI,CAAC,EAAE,CAAC,QAAH,CAAY,KAAK,CAAC,MAAlB,CAAL,EAAgC;AAC9B,MAAA,OAAO,CAAC,KAAR;AACF;AACD,GAJD;;AAKA,EAAA,QAAQ,CAAC,IAAT,CAAc,gBAAd,CAA+B,OAA/B,EAAwC,EAAE,CAAC,iBAA3C;AACF,CAPA;;AASA,eAAe;AACb,EAAA,IAAI,EAAE,mBADO;AAEb,EAAA,KAAI,EAAI;AACN,IAAA,QAAQ,EAAE;AADJ,GAFK;AAKb,EAAA,IAAI,EAAE,gBAAI;AACR,WAAM;AACJ,MAAA,MAAM,EAAE,KADJ;AAEJ,MAAA,KAAK,EAAE,CAAC,QAAD,EAAU,QAAV,EAAmB,QAAnB,EAA4B,YAA5B,EAAyC,YAAzC,EAAsD,YAAtD,EAAmE,YAAnE,EAAgF,YAAhF,CAFH;AAGJ,MAAA,SAAS,EAAE;AAHP,KAAN;AAKD,GAXY;AAYb,EAAA,OAZa,qBAYH;AAAA;;AACR,IAAA,MAAM,CAAC,MAAP,CAAc,CAAd,EAAgB,CAAhB;AACA,IAAA,UAAU,CAAC,YAAI;AACb,MAAA,KAAI,CAAC,MAAL,GAAc,IAAd;AACD,KAFS,EAER,GAFQ,CAAV;AAGD,GAjBY;AAkBb,EAAA,OAAO,EAAC;AACN,IAAA,KAAK,EAAE,iBAAW;AAChB,UAAI,KAAK,MAAT,EAAgB;AACd,aAAK,OAAL,CAAa,KAAb;AACA,aAAK,MAAL,GAAc,KAAd;AACA,aAAK,OAAL,CAAa,SAAb;AACF;AACD,KAPK;AAQN,IAAA,cAAc,EAAC,wBAAS,UAAT,EAAoB;AACjC,WAAK,OAAL,CAAa,IAAb,CAAkB;AAAC,QAAA,IAAI,cAAL;AAAoB,QAAA,MAAM,EAAC;AAAC,UAAA,UAAU,EAAE;AAAb;AAA3B,OAAlB;AACD,KAVK;AAWN,IAAA,cAAc,EAAC,0BAAU;AAAA;;AACvB,UAAM,SAAQ,GAAI;AAChB,QAAA,EAAE,EAAC,KAAK,QAAL,CAAc,OAAd,CAAsB,EADT;AAEhB,QAAA,IAAI,EAAC,KAAK,QAAL,CAAc,OAAd,CAAsB,OAAtB,CAA8B,OAA9B,CAAsC,KAAK,SAA3C;AAFW,OAAlB;;AAIA,UAAG,KAAK,QAAL,CAAc,OAAd,CAAsB,OAAtB,CAA8B,KAAK,QAAL,CAAc,OAAd,CAAsB,IAApD,KAA6D,KAAK,SAArE,EAA+E;AAC7E,aAAK,MAAL,CAAY,QAAZ,CAAqB,YAArB,EAAmC,SAAnC,EAA8C,IAA9C,CAAmD,YAAI;AACrD,UAAA,MAAI,CAAC,SAAL,GAAe,EAAf;;AACA,UAAA,MAAI,CAAC,KAAL;AACD,SAHD;AAIF;AACF;AAtBM,GAlBK;AA0Cb,EAAA,UAAU,EAAC;AACT,IAAA,YAAW,EAAX;AADS;AA1CE,CAAf","sourcesContent":["<template>\r\n  <div id=\"bg\"></div>\r\n<div id=\"infoCommandeAdmin\" v-clickOutside=\"close\">\r\n  <button id=\"close\" @click=\"close()\">\r\n    <span></span>\r\n    <span></span>\r\n  </button>\r\n  <div class=\"wrapper2\">\r\n    <div class=\"left\">\r\n      <div class=\"title\">\r\n        <h4>Utilisateur</h4>\r\n        <p>{{commande.comande.id.slice(0, 24)}}</p>\r\n      </div>\r\n      <p>{{commande.comande.facture.lastname + \" \" + commande.comande.facture.firstname}}</p>\r\n      <p>{{commande.comande.facture.email}}</p>\r\n      <p>+{{commande.comande.facture.mobile}}</p>\r\n    </div>\r\n\r\n  <div class=\"right\">\r\n      <div class=\"title\">\r\n        <h4>Livraison <a :href=\"commande.comande.pdf\" target=\"_blank\"> <img style=\"width:16px; height: 16px\" src=\"../../../public/80942.png\" alt=\"\"> </a></h4>\r\n\r\n      </div>\r\n      <p>Adresse: {{commande.comande.facture.streetNumber}} {{commande.comande.facture.street}} {{commande.comande.facture.city}} ({{commande.comande.livraison.modeDeLivraison}})</p>\r\n      <p>Frais de ports HT: {{ commande.comande.prix.prix_ttl_fdp_HT }} €</p>\r\n      <p>Frais de ports TTC: {{ commande.comande.prix.prix_ttl_fdp }} €</p>\r\n      <p></p>\r\n    </div>\r\n  </div>\r\n  <div class=\"wrapper2\">\r\n    <div class=\"left\">\r\n      <div class=\"title\">\r\n        <h4>Commande</h4>\r\n        <p>{{commande.comande.id}}</p>\r\n\r\n      </div>\r\n      <div id=\"table_container\">\r\n\r\n        <table>\r\n          <tbody>\r\n          <tr v-for=\"el in commande.comande.materiels\" :key=\"el\">\r\n            <td><img :src=\"el.obj.img\" :alt=\"el.obj.name\"/></td>\r\n            <td>{{el.obj.name}}</td>\r\n            <td>{{el.qty}}</td>\r\n            <td>{{el.obj.price}} €</td>\r\n          </tr>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n\r\n    </div>\r\n\r\n    <div class=\"right\">\r\n      <div class=\"title\">\r\n        <h4>État</h4>\r\n\r\n      </div>\r\n      <div id=\"state\">\r\n        <p id=\"edc\" v-if=\"commande.comande.etat >= 0\" :style=\"{backgroundColor: color[commande.comande.etat]}\">{{commande.comande.nometat[commande.comande.etat]}}</p>\r\n        <select name=\"etat\" id=\"etat\"  v-model=\"choixetat\">\r\n          <option :value=\"e\" v-for=\"e in commande.comande.nometat\" :key=\"e\">{{ e }}</option>\r\n        </select>\r\n      </div>\r\n      <div class=\"title\">\r\n        <h4>Date</h4>\r\n      </div>\r\n      <p>{{commande.comande.date.substring(0,10)}}</p>\r\n    </div>\r\n  </div>\r\n  <div class=\"wrapper2\">\r\n    <div class=\"left\">\r\n      <div class=\"title\">\r\n        <h4>Total</h4>\r\n      </div>\r\n      <p>Total HT : {{commande.comande.prix.prix_ttl_panier_HT}} €</p>\r\n      <p>Total TTC : {{commande.comande.prix.prix_ttl_panier}} €</p>\r\n    </div>\r\n    <div class=\"right\">\r\n      <div id=\"btn_container\">\r\n        <button id=\"save\" @click=\"savechangement()\">Enregistrer</button>\r\n        <button id=\"push\" @click=\"afficheFacture(commande.comande.id)\">Voir la commande</button>\r\n      </div>\r\n\r\n    </div>\r\n  </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nlet clickOutside = function(el, binding) {\r\n  el.clickOutsideEvent = function (event) {\r\n    if (!el.contains(event.target)) {\r\n      binding.value()\r\n    }\r\n  };\r\n  document.body.addEventListener('click', el.clickOutsideEvent)\r\n}\r\n\r\nexport default {\r\n  name: \"infoCommandeAdmin\",\r\n  props : {\r\n    commande: Object\r\n  },\r\n  data: ()=>{\r\n    return{\r\n      isOpen: false,\r\n      color: [\"yellow\",\"yellow\",\"yellow\",\"Aquamarine\",\"LightGreen\",\"lightCoral\",\"lightCoral\",\"lightCoral\"],\r\n      choixetat: \"\"\r\n    }\r\n  },\r\n  mounted() {\r\n    window.scroll(0,0)\r\n    setTimeout(()=>{\r\n      this.isOpen = true\r\n    },500)\r\n  },\r\n  methods:{\r\n    close: function (){\r\n      if (this.isOpen){\r\n        this.$parent.click();\r\n        this.isOpen = false\r\n        this.$parent.actualize();\r\n      }\r\n    },\r\n    afficheFacture:function(nomFacture){\r\n      this.$router.push({name:`factureAdm`, params:{numfacture: nomFacture}});\r\n    },\r\n    savechangement:function(){\r\n      const parametre = {\r\n        id:this.commande.comande.id,\r\n        etat:this.commande.comande.nometat.indexOf(this.choixetat)\r\n      }\r\n      if(this.commande.comande.nometat[this.commande.comande.etat] != this.choixetat){\r\n        this.$store.dispatch('changeEtat', parametre).then(()=>{\r\n          this.choixetat=\"\"\r\n          this.close();\r\n        })\r\n      }\r\n    }\r\n  },\r\n  directives:{\r\n    clickOutside\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n#bg{\r\n  position: absolute;\r\n  width: 100vw;\r\n  height: 100vh;\r\n  background-color: black;\r\n  z-index: 0;\r\n  top: 0;\r\n  left: 0;\r\n  opacity: .25;\r\n}\r\n#infoCommandeAdmin {\r\n  position: absolute;\r\n  left: 5%;\r\n  top: 10%;\r\n  height: 73%;\r\n  z-index: 1;\r\n  width: 90vw;\r\n  background-color: #FFFFFF;\r\n  border-radius: 20px;\r\n  box-shadow: rgba(0, 0, 0, 0.24) 0 3px 8px;\r\n}\r\n\r\n.title{\r\n  margin-top: 10px ;\r\n  display: flex;\r\n  justify-content: space-between;\r\n}\r\n.title p{\r\n  color: #078A6C;\r\n  padding-right: 20px;\r\n}\r\n.right, .left{\r\n  padding: 20px;\r\n  width: 50%;\r\n}\r\n.wrapper2{\r\n  display: flex;\r\n  justify-content: space-between;\r\n}\r\nimg {\r\n  object-fit: cover;\r\n  height: 100px;\r\n}\r\ntable{\r\n  overflow-y: scroll;\r\n  border-collapse: collapse;\r\n}\r\n#table_container{\r\n  overflow-y: scroll;\r\n  height: 400px;\r\n}\r\ntd:nth-child(1){\r\n  padding: 0;\r\n}\r\ntd {\r\n  padding: 30px;\r\n  border: 2px solid #333;\r\n}\r\nselect{\r\n  padding: 10px;\r\n  width: 40%;\r\n\r\n}\r\n#edc{\r\n  padding: 10px;\r\n  width: 60%;\r\n}\r\n#state  {\r\n  display: flex;\r\n  justify-content: space-between;\r\n}\r\n#save{\r\n  padding: 10px;\r\n  border-radius: 10px;\r\n  border: #078A6C solid 2px;\r\n  cursor: pointer;\r\n  background-color: #FFFFFF;\r\n}\r\n#push{\r\n  border: none;\r\n  color: #078A6C;\r\n  background-color: white;\r\n  cursor: pointer;\r\nmargin-left: 50px;\r\n}\r\n#btn_container{\r\n  display: flex;\r\n  justify-content: flex-end;\r\n}\r\n\r\n#close{\r\n  position: absolute;\r\n  top: 10px;\r\n  right: 10px;\r\n  border-radius: 50%;\r\n  width: 25px;\r\n  height: 25px;\r\n  background-color: #F1F1F1;\r\n  border:none;\r\n  cursor:pointer;\r\n  transition: .4s background-color;\r\n}\r\n#close:hover{\r\n  background-color: #E1E1E1;\r\n}\r\n#close div{\r\n  width: 2.5px;\r\n  height: 15px;\r\n  background-color: #A1A1A1;\r\n  border-radius: 2px;\r\n  position: absolute;\r\n  top : 5px;\r\n  left  : 10.5px;\r\n}\r\n#close:hover{\r\n  background-color: #E1E1E1;\r\n}\r\n#close span{\r\n  width: 2.5px;\r\n  height: 15px;\r\n  background-color: #A1A1A1;\r\n  border-radius: 2px;\r\n  position: absolute;\r\n  top : 5px;\r\n  left  : 10.5px;\r\n}\r\n#close span:nth-child(1){\r\n  transform:rotate(45deg);\r\n}\r\n#close span:nth-child(2){\r\n  transform:rotate(-45deg);\r\n}\r\n</style>"],"sourceRoot":""}]}