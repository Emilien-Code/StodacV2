{"remainingRequest":"/Users/emilienvivier/Documents/Dev/Stodac/stodac/node_modules/babel-loader/lib/index.js!/Users/emilienvivier/Documents/Dev/Stodac/stodac/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/emilienvivier/Documents/Dev/Stodac/stodac/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/emilienvivier/Documents/Dev/Stodac/stodac/src/components/HelloWorld.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/emilienvivier/Documents/Dev/Stodac/stodac/src/components/HelloWorld.vue","mtime":1630425777760},{"path":"/Users/emilienvivier/Documents/Dev/Stodac/stodac/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/emilienvivier/Documents/Dev/Stodac/stodac/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/emilienvivier/Documents/Dev/Stodac/stodac/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/emilienvivier/Documents/Dev/Stodac/stodac/node_modules/vue-loader-v16/dist/index.js","mtime":1628298225000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL2VtaWxpZW52aXZpZXIvRG9jdW1lbnRzL0Rldi9TdG9kYWMvc3RvZGFjL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKaW1wb3J0IHsgbWFwU3RhdGUgfSBmcm9tICd2dWV4JzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdMb2dpbicsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIG1vZGU6ICdsb2dpbicsCiAgICAgIGVtYWlsOiAnJywKICAgICAgcHJlbm9tOiAnJywKICAgICAgbm9tOiAnJywKICAgICAgcGFzc3dvcmQ6ICcnCiAgICB9OwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIGlmICh0aGlzLiRzdG9yZS5zdGF0ZS51c2VyLnVzZXJJZCAhPSAtMSkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnL3Byb2ZpbGUnKTsKICAgICAgcmV0dXJuOwogICAgfQogIH0sCiAgY29tcHV0ZWQ6IF9vYmplY3RTcHJlYWQoewogICAgdmFsaWRhdGVkRmllbGRzOiBmdW5jdGlvbiB2YWxpZGF0ZWRGaWVsZHMoKSB7CiAgICAgIGlmICh0aGlzLm1vZGUgPT0gJ2NyZWF0ZScpIHsKICAgICAgICBpZiAodGhpcy5lbWFpbCAhPSAiIiAmJiB0aGlzLnByZW5vbSAhPSAiIiAmJiB0aGlzLm5vbSAhPSAiIiAmJiB0aGlzLnBhc3N3b3JkICE9ICIiKSB7CiAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICBpZiAodGhpcy5lbWFpbCAhPSAiIiAmJiB0aGlzLnBhc3N3b3JkICE9ICIiKSB7CiAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgICAgfQogICAgfQogIH0sIG1hcFN0YXRlKFsnc3RhdHVzJ10pKSwKICBtZXRob2RzOiB7CiAgICBzd2l0Y2hUb0NyZWF0ZUFjY291bnQ6IGZ1bmN0aW9uIHN3aXRjaFRvQ3JlYXRlQWNjb3VudCgpIHsKICAgICAgdGhpcy5tb2RlID0gJ2NyZWF0ZSc7CiAgICB9LAogICAgc3dpdGNoVG9Mb2dpbjogZnVuY3Rpb24gc3dpdGNoVG9Mb2dpbigpIHsKICAgICAgdGhpcy5tb2RlID0gJ2xvZ2luJzsKICAgIH0sCiAgICBsb2dpbjogZnVuY3Rpb24gbG9naW4oKSB7CiAgICAgIHZhciBzZWxmID0gdGhpczsKICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ2xvZ2luJywgewogICAgICAgIGVtYWlsOiB0aGlzLmVtYWlsLAogICAgICAgIHBhc3N3b3JkOiB0aGlzLnBhc3N3b3JkCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIHNlbGYuJHJvdXRlci5wdXNoKCcvcHJvZmlsZScpOwogICAgICB9LCBmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgIH0pOwogICAgfSwKICAgIGNyZWF0ZUFjY291bnQ6IGZ1bmN0aW9uIGNyZWF0ZUFjY291bnQoKSB7CiAgICAgIHZhciBzZWxmID0gdGhpczsKICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ2NyZWF0ZUFjY291bnQnLCB7CiAgICAgICAgZW1haWw6IHRoaXMuZW1haWwsCiAgICAgICAgbm9tOiB0aGlzLm5vbSwKICAgICAgICBwcmVub206IHRoaXMucHJlbm9tLAogICAgICAgIHBhc3N3b3JkOiB0aGlzLnBhc3N3b3JkCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIHNlbGYubG9naW4oKTsKICAgICAgfSwgZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["/Users/emilienvivier/Documents/Dev/Stodac/stodac/src/components/HelloWorld.vue"],"names":[],"mappings":";AAqCA,SAAS,QAAT,QAAyB,MAAzB;AAEA,eAAe;AACb,EAAA,IAAI,EAAE,OADO;AAEb,EAAA,IAAI,EAAE,gBAAY;AAChB,WAAO;AACL,MAAA,IAAI,EAAE,OADD;AAEL,MAAA,KAAK,EAAE,EAFF;AAGL,MAAA,MAAM,EAAE,EAHH;AAIL,MAAA,GAAG,EAAE,EAJA;AAKL,MAAA,QAAQ,EAAE;AALL,KAAP;AAOD,GAVY;AAWb,EAAA,OAAO,EAAE,mBAAY;AACnB,QAAI,KAAK,MAAL,CAAY,KAAZ,CAAkB,IAAlB,CAAuB,MAAvB,IAAiC,CAAC,CAAtC,EAAyC;AACvC,WAAK,OAAL,CAAa,IAAb,CAAkB,UAAlB;AACA;AACF;AACD,GAhBY;AAiBb,EAAA,QAAQ;AACN,IAAA,eAAe,EAAE,2BAAY;AAC3B,UAAI,KAAK,IAAL,IAAa,QAAjB,EAA2B;AACzB,YAAI,KAAK,KAAL,IAAc,EAAd,IAAoB,KAAK,MAAL,IAAe,EAAnC,IAAyC,KAAK,GAAL,IAAY,EAArD,IAA2D,KAAK,QAAL,IAAiB,EAAhF,EAAoF;AAClF,iBAAO,IAAP;AACF,SAFA,MAEO;AACL,iBAAO,KAAP;AACF;AACF,OANA,MAMO;AACL,YAAI,KAAK,KAAL,IAAc,EAAd,IAAoB,KAAK,QAAL,IAAiB,EAAzC,EAA6C;AAC3C,iBAAO,IAAP;AACF,SAFA,MAEO;AACL,iBAAO,KAAP;AACF;AACF;AACD;AAfK,KAgBH,QAAQ,CAAC,CAAC,QAAD,CAAD,CAhBL,CAjBK;AAmCb,EAAA,OAAO,EAAE;AACP,IAAA,qBAAqB,EAAE,iCAAY;AACjC,WAAK,IAAL,GAAY,QAAZ;AACD,KAHM;AAIP,IAAA,aAAa,EAAE,yBAAY;AACzB,WAAK,IAAL,GAAY,OAAZ;AACD,KANM;AAOP,IAAA,KAAK,EAAE,iBAAY;AACjB,UAAM,IAAG,GAAI,IAAb;AACA,WAAK,MAAL,CAAY,QAAZ,CAAqB,OAArB,EAA8B;AAC5B,QAAA,KAAK,EAAE,KAAK,KADgB;AAE5B,QAAA,QAAQ,EAAE,KAAK;AAFa,OAA9B,EAGG,IAHH,CAGQ,YAAY;AAClB,QAAA,IAAI,CAAC,OAAL,CAAa,IAAb,CAAkB,UAAlB;AACD,OALD,EAKG,UAAU,KAAV,EAAiB;AAClB,QAAA,OAAO,CAAC,GAAR,CAAY,KAAZ;AACD,OAPD;AAQD,KAjBM;AAkBP,IAAA,aAAa,EAAE,yBAAY;AACzB,UAAM,IAAG,GAAI,IAAb;AACA,WAAK,MAAL,CAAY,QAAZ,CAAqB,eAArB,EAAsC;AACpC,QAAA,KAAK,EAAE,KAAK,KADwB;AAEpC,QAAA,GAAG,EAAE,KAAK,GAF0B;AAGpC,QAAA,MAAM,EAAE,KAAK,MAHuB;AAIpC,QAAA,QAAQ,EAAE,KAAK;AAJqB,OAAtC,EAKG,IALH,CAKQ,YAAY;AAClB,QAAA,IAAI,CAAC,KAAL;AACD,OAPD,EAOG,UAAU,KAAV,EAAiB;AAClB,QAAA,OAAO,CAAC,GAAR,CAAY,KAAZ;AACD,OATD;AAUD;AA9BM;AAnCI,CAAf","sourcesContent":["<template>\n  <div class=\"card\">\n    <h1 class=\"card__title\" v-if=\"mode == 'login'\">Connexion</h1>\n    <h1 class=\"card__title\" v-else>Inscription</h1>\n    <p class=\"card__subtitle\" v-if=\"mode == 'login'\">Tu n'as pas encore de compte ? <span class=\"card__action\" @click=\"switchToCreateAccount()\">Créer un compte</span></p>\n    <p class=\"card__subtitle\" v-else>Tu as déjà un compte ? <span class=\"card__action\" @click=\"switchToLogin()\">Se connecter</span></p>\n    <div class=\"form-row\">\n      <input v-model=\"email\" class=\"form-row__input\" type=\"text\" placeholder=\"Adresse mail\"/>\n    </div>\n    <div class=\"form-row\" v-if=\"mode == 'create'\">\n      <input v-model=\"prenom\" class=\"form-row__input\" type=\"text\" placeholder=\"Prénom\"/>\n      <input v-model=\"nom\" class=\"form-row__input\" type=\"text\" placeholder=\"Nom\"/>\n    </div>\n    <div class=\"form-row\">\n      <input v-model=\"password\" class=\"form-row__input\" type=\"password\" placeholder=\"Mot de passe\"/>\n    </div>\n    <div class=\"form-row\" v-if=\"mode == 'login' && status == 'error_login'\">\n      Adresse mail et/ou mot de passe invalide\n    </div>\n    <div class=\"form-row\" v-if=\"mode == 'create' && status == 'error_create'\">\n      Adresse mail déjà utilisée\n    </div>\n    <div class=\"form-row\">\n      <button @click=\"login()\" class=\"button\" :class=\"{'button--disabled' : !validatedFields}\" v-if=\"mode == 'login'\">\n        <span v-if=\"status == 'loading'\">Connexion en cours...</span>\n        <span v-else>Connexion</span>\n      </button>\n      <button @click=\"createAccount()\" class=\"button\" :class=\"{'button--disabled' : !validatedFields}\" v-else>\n        <span v-if=\"status == 'loading'\">Création en cours...</span>\n        <span v-else>Créer mon compte</span>\n      </button>\n    </div>\n  </div>\n</template>\n\n<script>\n\nimport { mapState } from 'vuex'\n\nexport default {\n  name: 'Login',\n  data: function () {\n    return {\n      mode: 'login',\n      email: '',\n      prenom: '',\n      nom: '',\n      password: '',\n    }\n  },\n  mounted: function () {\n    if (this.$store.state.user.userId != -1) {\n      this.$router.push('/profile');\n      return ;\n    }\n  },\n  computed: {\n    validatedFields: function () {\n      if (this.mode == 'create') {\n        if (this.email != \"\" && this.prenom != \"\" && this.nom != \"\" && this.password != \"\") {\n          return true;\n        } else {\n          return false;\n        }\n      } else {\n        if (this.email != \"\" && this.password != \"\") {\n          return true;\n        } else {\n          return false;\n        }\n      }\n    },\n    ...mapState(['status'])\n  },\n  methods: {\n    switchToCreateAccount: function () {\n      this.mode = 'create';\n    },\n    switchToLogin: function () {\n      this.mode = 'login';\n    },\n    login: function () {\n      const self = this;\n      this.$store.dispatch('login', {\n        email: this.email,\n        password: this.password,\n      }).then(function () {\n        self.$router.push('/profile');\n      }, function (error) {\n        console.log(error);\n      })\n    },\n    createAccount: function () {\n      const self = this;\n      this.$store.dispatch('createAccount', {\n        email: this.email,\n        nom: this.nom,\n        prenom: this.prenom,\n        password: this.password,\n      }).then(function () {\n        self.login();\n      }, function (error) {\n        console.log(error);\n      })\n    },\n  }\n}\n</script>\n\n<style scoped>\n  .form-row {\n    display: flex;\n    margin: 16px 0px;\n    gap:16px;\n    flex-wrap: wrap;\n  }\n\n  .form-row__input {\n    padding:8px;\n    border: none;\n    border-radius: 8px;\n    background:#f2f2f2;\n    font-weight: 500;\n    font-size: 16px;\n    flex:1;\n    min-width: 100px;\n    color: black;\n  }\n\n  .form-row__input::placeholder {\n    color:#aaaaaa;\n  }\n@import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;800&display=swap');\n\n* {\n  font-family: 'Poppins', sans-serif;\n  margin:0;\n  padding: 0;\n  box-sizing: border-box;\n}\n\n#app {\n  max-width: 100%;\n}\n\nbody {\n  background-image: linear-gradient(62deg, #FBAB7E 0%, #F7CE68 100%);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  min-height: 100vh;\n  padding:32px;\n}\n\nimg {\n  max-width: 100%;\n  border-radius: 8px;\n}\n\n.card {\n  max-width: 100%;\n  width: 540px;\n  background:white;\n  border-radius: 16px;\n  padding:32px;\n}\n\n.card__title {\n  text-align:center;\n  font-weight: 800;\n}\n\n.card__subtitle {\n  text-align: center;\n  color:#666;\n  font-weight: 500;\n}\n\n  .button {\n    background: #2196F3;\n    color:white;\n    border-radius: 8px;\n    font-weight: 800;\n    font-size: 15px;\n    border: none;\n    width: 100%;\n    padding: 16px;\n    transition: .4s background-color;\n  }\n\n  .card__action {\n    color:#2196F3;\n    text-decoration: underline;\n  }\n\n  .card__action:hover {\n    cursor:pointer;\n  }\n\n  .button:hover {\n    cursor:pointer;\n    background: #1976D2;\n  }\n\n  .button--disabled {\n    background:#cecece;\n    color:#ececec\n  }\n  .button--disabled:hover {\n    cursor:not-allowed;\n    background:#cecece;\n  }\n\n\n</style>"],"sourceRoot":""}]}