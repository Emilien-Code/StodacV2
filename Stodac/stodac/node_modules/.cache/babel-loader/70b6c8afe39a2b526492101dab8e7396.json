{"remainingRequest":"C:\\Users\\tobie\\Documents\\GitHub\\Stodac2\\Stodac\\stodac\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\tobie\\Documents\\GitHub\\Stodac2\\Stodac\\stodac\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\tobie\\Documents\\GitHub\\Stodac2\\Stodac\\stodac\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\tobie\\Documents\\GitHub\\Stodac2\\Stodac\\stodac\\src\\views\\addItem.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\tobie\\Documents\\GitHub\\Stodac2\\Stodac\\stodac\\src\\views\\addItem.vue","mtime":1645422302000},{"path":"C:\\Users\\tobie\\Documents\\GitHub\\Stodac2\\Stodac\\stodac\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1639935630000},{"path":"C:\\Users\\tobie\\Documents\\GitHub\\Stodac2\\Stodac\\stodac\\node_modules\\babel-loader\\lib\\index.js","mtime":1639935630000},{"path":"C:\\Users\\tobie\\Documents\\GitHub\\Stodac2\\Stodac\\stodac\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1639935630000},{"path":"C:\\Users\\tobie\\Documents\\GitHub\\Stodac2\\Stodac\\stodac\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1639935640000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN5bWJvbC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN5bWJvbC5kZXNjcmlwdGlvbi5qcyI7Cgp2YXIgYXhpb3MgPSByZXF1aXJlKCdheGlvcycpOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJhZGRJdGVtIiwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgaXRlbTogewogICAgICAgIGNvbXBhdGliaWxpdHk6IFtdLAogICAgICAgIG5hbWU6ICIiLAogICAgICAgIG1hbnVmYWN0dXJlcjogIiIsCiAgICAgICAgcXR5OiAwLAogICAgICAgIHByaWNlOiAwLAogICAgICAgIHBvaWRzOiAwLAogICAgICAgIHJlZmVyZW5jZTogIiIsCiAgICAgICAgY2F0ZWdvcnk6ICIiLAogICAgICAgIGltZzogIiIsCiAgICAgICAgc3RhdGU6ICIiLAogICAgICAgIGRlc2NyaXB0aW9uOiAiIgogICAgICB9LAogICAgICBmaWxlOiAnJywKICAgICAgbWFudWZhY3R1cmVMaXN0OiBbXSwKICAgICAgY29tcGF0aWJpbGl0aWVzOiAxCiAgICB9OwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgaWYgKHRoaXMuJHN0b3JlLnN0YXRlLnVzZXIudXNlcklEID09PSAtMSkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnL2xvZ2luL2FkZCcpOwogICAgfQoKICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdnZXRVc2VySW5mb3MnKTsKICAgIGF4aW9zLmdldCgnaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9zdHVmZi9tYW51ZmFjdHVyZXInKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICBfdGhpcy5tYW51ZmFjdHVyZUxpc3QgPSByZXNwb25zZS5kYXRhOwogICAgfSk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBoYW5kbGVGaWxlVXBsb2FkZWQ6IGZ1bmN0aW9uIGhhbmRsZUZpbGVVcGxvYWRlZCgpIHsKICAgICAgdGhpcy5maWxlID0gdGhpcy4kcmVmcy5maWxlLmZpbGVzWzBdOwogICAgfSwKICAgIGNyZWF0ZTogZnVuY3Rpb24gY3JlYXRlKCkgewogICAgICB2YXIgZmQgPSBuZXcgRm9ybURhdGEoKTsKICAgICAgZmQuYXBwZW5kKCdpbWFnZScsIHRoaXMuZmlsZSk7CiAgICAgIGZkLmFwcGVuZCgnbmFtZScsIHRoaXMuaXRlbS5uYW1lKTsKICAgICAgZmQuYXBwZW5kKCdtYW51ZmFjdHVyZXInLCB0aGlzLml0ZW0ubWFudWZhY3R1cmVyKTsKICAgICAgZmQuYXBwZW5kKCdxdHknLCB0aGlzLml0ZW0ucXR5KTsKICAgICAgZmQuYXBwZW5kKCdwcmljZScsIHRoaXMuaXRlbS5wcmljZSk7CiAgICAgIGZkLmFwcGVuZCgncG9pZHMnLCB0aGlzLml0ZW0ucG9pZHMpOwogICAgICBmZC5hcHBlbmQoJ3JlZmVyZW5jZScsIHRoaXMuaXRlbS5yZWZlcmVuY2UpOwogICAgICBmZC5hcHBlbmQoJ2NhdGVnb3J5JywgdGhpcy5pdGVtLmNhdGVnb3J5KTsKICAgICAgZmQuYXBwZW5kKCdzdGF0ZScsIHRoaXMuaXRlbS5zdGF0ZSk7CiAgICAgIGZkLmFwcGVuZCgnZGVzY3JpcHRpb24nLCB0aGlzLml0ZW0uZGVzY3JpcHRpb24pOwogICAgICBmZC5hcHBlbmQoJ2NvbXBhdGliaWxpdHknLCBKU09OLnN0cmluZ2lmeSh0aGlzLml0ZW0uY29tcGF0aWJpbGl0eSkpOwogICAgICBheGlvcy5wb3N0KCdodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL3N0dWZmLycsIGZkKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwogICAgICB9KTsKICAgICAgY29uc29sZS5sb2codGhpcy5pdGVtLmNvbXBhdGliaWxpdHkpOwogICAgfSwKICAgIGFkZENvbXA6IGZ1bmN0aW9uIGFkZENvbXAoKSB7CiAgICAgIHRoaXMuY29tcGF0aWJpbGl0aWVzKys7CiAgICAgIGNvbnNvbGUubG9nKHRoaXMuY29tcGF0aWJpbGl0aWVzKTsKICAgICAgY29uc29sZS5sb2codGhpcy5pdGVtLmNvbXBhdGliaWxpdHkpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["C:\\Users\\tobie\\Documents\\GitHub\\Stodac2\\Stodac\\stodac\\src\\views\\addItem.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div id=\"addItem\">\r\n    <div v-if=\"$store.state.userInfos.admin\">\r\n      <div class=\"row\">\r\n\r\n      <div>\r\n        <span>Nom :</span>\r\n        <input type=\"text\" v-model=\"item.name\">\r\n      </div>\r\n      <div>\r\n        <span>Référence : </span>\r\n        <input type=\"text\" v-model=\"item.reference\">\r\n      </div>\r\n      </div>\r\n\r\n      <div class=\"row\">\r\n        <span>Marque :</span>\r\n\r\n        <select id=\"marque\" v-model=\"item.manufacturer\">\r\n          <option v-for=\"man in manufactureList\" :value=\"man\" :key=\"man\">{{ man }}</option>\r\n        </select>\r\n\r\n        OU\r\n\r\n        nouvelle marque :<input type=\"text\" v-model=\"item.manufacturer\">\r\n\r\n      </div>\r\n      <div class=\"row\">\r\n\r\n      <div>\r\n        <span>Poids :</span>\r\n        <input type=\"number\" v-model=\"item.poids\">\r\n      </div>\r\n      <div>\r\n        <span>État : (neuf ou occasion) :</span>\r\n        <select id=\"state\" v-model=\"item.state\">\r\n          <option value=\"Neuf\">neuf</option>\r\n          <option value=\"Occasion\">Occasion</option>\r\n        </select>\r\n      </div>\r\n      </div>\r\n      <div class=\"row\">\r\n\r\n      <div>\r\n        <span>Quantitée :</span>\r\n        <input type=\"number\" v-model=\"item.qty\">\r\n      </div>\r\n      <div>\r\n        <span>Prix :</span>\r\n        <input type=\"number\" v-model=\"item.price\">\r\n      </div>\r\n      </div>\r\n      <div class=\"row\">\r\n        <span>Compatibilités :</span>\r\n        <input class=\"comps\" v-for=\"(comp, index) in compatibilities\" :key=\"comp\" type=\"text\" v-model=\"item.compatibility[index]\"/>\r\n        <button id=\"rond\" @click=\"addComp()\">+</button>\r\n      </div><!-- VMODEL compatibility[0] -->\r\n      <div class=\"row\" id=\"desc\">\r\n        <span>Description : </span>\r\n        <textarea v-model=\"item.description\"></textarea>\r\n      </div>\r\n      <div class=\"row\">\r\n        <span>Image : </span>\r\n        <input type=\"file\" id=\"file\" ref=\"file\" name=\"first\" @change=\"handleFileUploaded()\"/>\r\n      </div>\r\n\r\n\r\n    <div class=\"row\" >\r\n      <button id=\"ajouter\" @click=\"create()\">Ajouter</button>\r\n    </div>\r\n\r\n\r\n    </div>\r\n    <div v-else>Niveau d'accès trop bas pour acceder.</div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nconst axios = require('axios');\r\nexport default {\r\n  name: \"addItem\",\r\n  data : function(){\r\n    return{\r\n      item : {\r\n        compatibility: [],\r\n        name: \"\",\r\n        manufacturer: \"\",\r\n        qty: 0,\r\n        price: 0,\r\n        poids: 0,\r\n        reference: \"\",\r\n        category: \"\",\r\n        img: \"\",\r\n        state: \"\",\r\n        description: \"\",\r\n\r\n      },\r\n      file : '',\r\n      manufactureList : [],\r\n      compatibilities: 1\r\n    }\r\n  },\r\n  mounted: function(){\r\n    if(this.$store.state.user.userID === -1){\r\n      this.$router.push('/login/add');\r\n    }\r\n    this.$store.dispatch('getUserInfos');\r\n    axios.get('http://localhost:3000/api/stuff/manufacturer')\r\n        .then((response)=>{\r\n          this.manufactureList = response.data;\r\n        })\r\n  },\r\n  methods : {\r\n    handleFileUploaded(){\r\n      this.file = this.$refs.file.files[0]\r\n    },\r\n    create : function(){\r\n      const fd = new FormData()\r\n      fd.append('image', this.file)\r\n      fd.append('name', this.item.name)\r\n      fd.append('manufacturer', this.item.manufacturer)\r\n      fd.append('qty', this.item.qty)\r\n      fd.append('price', this.item.price)\r\n      fd.append('poids', this.item.poids)\r\n      fd.append('reference', this.item.reference)\r\n      fd.append('category', this.item.category)\r\n      fd.append('state', this.item.state)\r\n      fd.append('description', this.item.description)\r\n      fd.append('compatibility', JSON.stringify(this.item.compatibility))\r\n      axios.post('http://localhost:3000/api/stuff/',fd)\r\n          .then(res=>{\r\n            console.log(res)\r\n          });\r\n      console.log(this.item.compatibility)\r\n    },\r\n    addComp : function (){\r\n      this.compatibilities++\r\n      console.log(this.compatibilities)\r\n      console.log(this.item.compatibility)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n#addItem{\r\n  margin-top: 80px;\r\n}\r\ninput, select, textarea, button{\r\n  padding: 5px;\r\n  border-radius: 10px;\r\n  border: solid #078A6C 2px;\r\n}\r\ntextarea{\r\n  width: 500px;\r\n  height: 200px;\r\n  resize: none;\r\n}\r\n#desc{\r\n  height: 200px;\r\n}\r\n.row{\r\n  width: 100vw;\r\n  height: 50px;\r\n  display: flex;\r\n  justify-content:center;\r\n  align-items: center;\r\n}\r\nbutton  {\r\n  background-color: #078A6C;\r\n  cursor: pointer;\r\n}\r\n#ajouter  {\r\n  width: 250px;\r\n  height: 50px;\r\n}\r\n\r\n#rond{\r\n  border-radius: 10px;\r\n  width: 30px;\r\n  height: 30px;\r\n  margin-left: 10px;\r\n }\r\n.comps  {\r\n  margin-left: 2px;\r\n}\r\n</style>"],"sourceRoot":""}]}