{"remainingRequest":"C:\\Users\\tobie\\Documents\\GitHub\\StodacV2\\Stodac\\stodac\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\tobie\\Documents\\GitHub\\StodacV2\\Stodac\\stodac\\node_modules\\vue-loader-v16\\dist\\templateLoader.js??ref--6!C:\\Users\\tobie\\Documents\\GitHub\\StodacV2\\Stodac\\stodac\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\tobie\\Documents\\GitHub\\StodacV2\\Stodac\\stodac\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\tobie\\Documents\\GitHub\\StodacV2\\Stodac\\stodac\\src\\components\\forms\\paypal.vue?vue&type=template&id=455c1f63","dependencies":[{"path":"C:\\Users\\tobie\\Documents\\GitHub\\StodacV2\\Stodac\\stodac\\src\\components\\forms\\paypal.vue","mtime":1650975587837},{"path":"C:\\Users\\tobie\\Documents\\GitHub\\StodacV2\\Stodac\\stodac\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1650975577383},{"path":"C:\\Users\\tobie\\Documents\\GitHub\\StodacV2\\Stodac\\stodac\\node_modules\\babel-loader\\lib\\index.js","mtime":1650975577122},{"path":"C:\\Users\\tobie\\Documents\\GitHub\\StodacV2\\Stodac\\stodac\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":1650975586858},{"path":"C:\\Users\\tobie\\Documents\\GitHub\\StodacV2\\Stodac\\stodac\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1650975577383},{"path":"C:\\Users\\tobie\\Documents\\GitHub\\StodacV2\\Stodac\\stodac\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1650975586851}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrLCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jayB9IGZyb20gInZ1ZSI7CnZhciBfaG9pc3RlZF8xID0gewogIGNsYXNzOiAiUGF5bWVudCIKfTsKdmFyIF9ob2lzdGVkXzIgPSB7CiAgcmVmOiAicGF5cGFsIiwKICBpZDogInBheXBhbC1idXR0b24tY29udGFpbmVyIgp9OwpleHBvcnQgZnVuY3Rpb24gcmVuZGVyKF9jdHgsIF9jYWNoZSwgJHByb3BzLCAkc2V0dXAsICRkYXRhLCAkb3B0aW9ucykgewogIHJldHVybiBfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soImRpdiIsIF9ob2lzdGVkXzEsIFtfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF8yLCBudWxsLCA1MTIKICAvKiBORUVEX1BBVENIICovCiAgKV0pOwp9"},{"version":3,"sources":["C:\\Users\\tobie\\Documents\\GitHub\\StodacV2\\Stodac\\stodac\\src\\components\\forms\\paypal.vue"],"names":[],"mappings":";;AACO,EAAA,KAAK,EAAC;;;AACJ,EAAA,GAAG,EAAC,Q;AAAS,EAAA,EAAE,EAAC;;;uBADvB,mBAAA,CAEM,KAFN,EAAA,UAAA,EAEM,CADJ,mBAAA,CAAqD,KAArD,EAAA,UAAA,EAAqD,IAArD,EAAqD;AAAA;AAArD,GACI,CAFN,C","sourcesContent":["<template>\r\n  <div class=\"Payment\">\r\n    <div ref=\"paypal\" id=\"paypal-button-container\"></div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {mapState} from \"vuex\";\r\n\r\nexport default {\r\n  name: \"paypal\",\r\n  data:()=>{\r\n    return{\r\n      paidFor: false,\r\n    }\r\n  },\r\n  mounted() {\r\n    const script = document.createElement(\"script\");\r\n    // script.src = \"https://www.paypal.com/sdk/js?client-id=ASOWp-_1zxWf4EXEzuc47swzhquPSB2XchEHOTMB8Ymv_KwnbQvBXRK9M6BFKqhSMTl90dMSp_qxVQxJ&currency=EUR\";\r\n    script.src = \"https://www.paypal.com/sdk/js?client-id=AbLPjKm4VxvJn-pTS_kWd0CFz1Gt0IxfB2FFM2Xfp-8xUT8p8hZ7lT264wZCigRhAQPesyampT4M94ni&currency=EUR\";\r\n    script.addEventListener(\"load\", this.setLoaded);\r\n    document.body.appendChild(script)\r\n  },\r\n  methods: {\r\n    setLoaded: function () {\r\n      this.loaded = true;\r\n      window.paypal\r\n          .Buttons({\r\n            createOrder: (data, actions) => {\r\n              return actions.order.create({\r\n                purchase_units: [\r\n                  {\r\n                    description: this.description,\r\n                    amount: {\r\n                      value: this.userInfos.prix_ttl_panier\r\n                    }\r\n                  }\r\n                ]\r\n              });\r\n            },\r\n            onApprove: async (data, actions) => {\r\n              const order = await actions.order.capture();\r\n              this.data;\r\n              this.paidFor = true;\r\n\r\n              this.saveFacture(false, order.id)\r\n            },\r\n            onError: err => {\r\n              console.log(err);\r\n            }\r\n          })\r\n          .render(this.$refs.paypal);\r\n    },\r\n  },\r\n  computed: {\r\n    total: function () {\r\n      let total = 0;\r\n      for(let i = 0; i<this.$store.state.pannier.length; i++){\r\n        total += this.$store.state.pannier[i].article.price * this.$store.state.pannier[i].qty;\r\n      }\r\n      return total\r\n    },\r\n    ...mapState(['userInfos']),\r\n  },\r\n  props:{ saveFacture:Function }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"],"sourceRoot":""}]}