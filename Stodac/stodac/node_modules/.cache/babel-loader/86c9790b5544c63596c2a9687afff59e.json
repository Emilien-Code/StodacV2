{"remainingRequest":"/Users/emilienvivier/Documents/Dev/git/Stodac/stodac/node_modules/babel-loader/lib/index.js!/Users/emilienvivier/Documents/Dev/git/Stodac/stodac/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/emilienvivier/Documents/Dev/git/Stodac/stodac/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/emilienvivier/Documents/Dev/git/Stodac/stodac/src/views/addItem.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/emilienvivier/Documents/Dev/git/Stodac/stodac/src/views/addItem.vue","mtime":1645297160054},{"path":"/Users/emilienvivier/Documents/Dev/git/Stodac/stodac/node_modules/cache-loader/dist/cjs.js","mtime":1643821156130},{"path":"/Users/emilienvivier/Documents/Dev/git/Stodac/stodac/node_modules/babel-loader/lib/index.js","mtime":1643821156046},{"path":"/Users/emilienvivier/Documents/Dev/git/Stodac/stodac/node_modules/cache-loader/dist/cjs.js","mtime":1643821156130},{"path":"/Users/emilienvivier/Documents/Dev/git/Stodac/stodac/node_modules/vue-loader-v16/dist/index.js","mtime":1643821159958}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN5bWJvbC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN5bWJvbC5kZXNjcmlwdGlvbi5qcyI7Cgp2YXIgYXhpb3MgPSByZXF1aXJlKCdheGlvcycpOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJhZGRJdGVtIiwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgaXRlbTogewogICAgICAgIGNvbXBhdGliaWxpdHk6IFtdLAogICAgICAgIG5hbWU6ICIiLAogICAgICAgIG1hbnVmYWN0dXJlcjogIiIsCiAgICAgICAgcXR5OiAwLAogICAgICAgIHByaWNlOiAwLAogICAgICAgIHBvaWRzOiAwLAogICAgICAgIHJlZmVyZW5jZTogIiIsCiAgICAgICAgY2F0ZWdvcnk6ICIiLAogICAgICAgIGltZzogIiIsCiAgICAgICAgc3RhdGU6ICIiLAogICAgICAgIGRlc2NyaXB0aW9uOiAiIgogICAgICB9LAogICAgICBmaWxlOiAnJywKICAgICAgbWFudWZhY3R1cmVMaXN0OiBbXSwKICAgICAgY29tcGF0aWJpbGl0aWVzOiAxCiAgICB9OwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgaWYgKHRoaXMuJHN0b3JlLnN0YXRlLnVzZXIudXNlcklEID09PSAtMSkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnL2xvZ2luL2FkZCcpOwogICAgfQoKICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdnZXRVc2VySW5mb3MnKTsKICAgIGF4aW9zLmdldCgnaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9zdHVmZi9tYW51ZmFjdHVyZXInKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICBfdGhpcy5tYW51ZmFjdHVyZUxpc3QgPSByZXNwb25zZS5kYXRhOwogICAgfSk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBoYW5kbGVGaWxlVXBsb2FkZWQ6IGZ1bmN0aW9uIGhhbmRsZUZpbGVVcGxvYWRlZCgpIHsKICAgICAgdGhpcy5maWxlID0gdGhpcy4kcmVmcy5maWxlLmZpbGVzWzBdOwogICAgfSwKICAgIGNyZWF0ZTogZnVuY3Rpb24gY3JlYXRlKCkgewogICAgICB2YXIgZmQgPSBuZXcgRm9ybURhdGEoKTsKICAgICAgZmQuYXBwZW5kKCdpbWFnZScsIHRoaXMuZmlsZSk7CiAgICAgIGZkLmFwcGVuZCgnbmFtZScsIHRoaXMuaXRlbS5uYW1lKTsKICAgICAgZmQuYXBwZW5kKCdtYW51ZmFjdHVyZXInLCB0aGlzLml0ZW0ubWFudWZhY3R1cmVyKTsKICAgICAgZmQuYXBwZW5kKCdxdHknLCB0aGlzLml0ZW0ucXR5KTsKICAgICAgZmQuYXBwZW5kKCdwcmljZScsIHRoaXMuaXRlbS5wcmljZSk7CiAgICAgIGZkLmFwcGVuZCgncG9pZHMnLCB0aGlzLml0ZW0ucG9pZHMpOwogICAgICBmZC5hcHBlbmQoJ3JlZmVyZW5jZScsIHRoaXMuaXRlbS5yZWZlcmVuY2UpOwogICAgICBmZC5hcHBlbmQoJ2NhdGVnb3J5JywgdGhpcy5pdGVtLmNhdGVnb3J5KTsKICAgICAgZmQuYXBwZW5kKCdzdGF0ZScsIHRoaXMuaXRlbS5zdGF0ZSk7CiAgICAgIGZkLmFwcGVuZCgnZGVzY3JpcHRpb24nLCB0aGlzLml0ZW0uZGVzY3JpcHRpb24pOwogICAgICBmZC5hcHBlbmQoJ2NvbXBhdGliaWxpdHknLCBKU09OLnN0cmluZ2lmeSh0aGlzLml0ZW0uY29tcGF0aWJpbGl0eSkpOwogICAgICBheGlvcy5wb3N0KCdodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL3N0dWZmLycsIGZkKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwogICAgICB9KTsKICAgICAgY29uc29sZS5sb2codGhpcy5pdGVtLmNvbXBhdGliaWxpdHkpOwogICAgfSwKICAgIGFkZENvbXA6IGZ1bmN0aW9uIGFkZENvbXAoKSB7CiAgICAgIHRoaXMuY29tcGF0aWJpbGl0aWVzKys7CiAgICAgIGNvbnNvbGUubG9nKHRoaXMuY29tcGF0aWJpbGl0aWVzKTsKICAgICAgY29uc29sZS5sb2codGhpcy5pdGVtLmNvbXBhdGliaWxpdHkpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["/Users/emilienvivier/Documents/Dev/git/Stodac/stodac/src/views/addItem.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div id=\"addItem\">\n    <div v-if=\"$store.state.userInfos.admin\">\n      <div class=\"row\">\n\n      <div>\n        <span>Nom :</span>\n        <input type=\"text\" v-model=\"item.name\">\n      </div>\n      <div>\n        <span>Référence : </span>\n        <input type=\"text\" v-model=\"item.reference\">\n      </div>\n      </div>\n\n      <div class=\"row\">\n        <span>Marque :</span>\n\n        <select id=\"marque\" v-model=\"item.manufacturer\">\n          <option v-for=\"man in manufactureList\" :value=\"man\" :key=\"man\">{{ man }}</option>\n        </select>\n\n        OU\n\n        nouvelle marque :<input type=\"text\" v-model=\"item.manufacturer\">\n\n      </div>\n      <div class=\"row\">\n\n      <div>\n        <span>Poids :</span>\n        <input type=\"number\" v-model=\"item.poids\">\n      </div>\n      <div>\n        <span>État : (neuf ou occasion) :</span>\n        <select id=\"state\" v-model=\"item.state\">\n          <option value=\"Neuf\">neuf</option>\n          <option value=\"Occasion\">Occasion</option>\n        </select>\n      </div>\n      </div>\n      <div class=\"row\">\n\n      <div>\n        <span>Quantitée :</span>\n        <input type=\"number\" v-model=\"item.qty\">\n      </div>\n      <div>\n        <span>Prix :</span>\n        <input type=\"number\" v-model=\"item.price\">\n      </div>\n      </div>\n      <div class=\"row\">\n        <span>Compatibilités :</span>\n        <input class=\"comps\" v-for=\"(comp, index) in compatibilities\" :key=\"comp\" type=\"text\" v-model=\"item.compatibility[index]\"/>\n        <button id=\"rond\" @click=\"addComp()\">+</button>\n      </div><!-- VMODEL compatibility[0] -->\n      <div class=\"row\" id=\"desc\">\n        <span>Description : </span>\n        <textarea v-model=\"item.description\"></textarea>\n      </div>\n      <div class=\"row\">\n        <span>Image : </span>\n        <input type=\"file\" id=\"file\" ref=\"file\" name=\"first\" @change=\"handleFileUploaded()\"/>\n      </div>\n\n\n    <div class=\"row\" >\n      <button id=\"ajouter\" @click=\"create()\">Ajouter</button>\n    </div>\n\n\n    </div>\n    <div v-else>Niveau d'accès trop bas pour acceder.</div>\n  </div>\n</template>\n\n<script>\nconst axios = require('axios');\nexport default {\n  name: \"addItem\",\n  data : function(){\n    return{\n      item : {\n        compatibility: [],\n        name: \"\",\n        manufacturer: \"\",\n        qty: 0,\n        price: 0,\n        poids: 0,\n        reference: \"\",\n        category: \"\",\n        img: \"\",\n        state: \"\",\n        description: \"\",\n\n      },\n      file : '',\n      manufactureList : [],\n      compatibilities: 1\n    }\n  },\n  mounted: function(){\n    if(this.$store.state.user.userID === -1){\n      this.$router.push('/login/add');\n    }\n    this.$store.dispatch('getUserInfos');\n    axios.get('http://localhost:3000/api/stuff/manufacturer')\n        .then((response)=>{\n          this.manufactureList = response.data;\n        })\n  },\n  methods : {\n    handleFileUploaded(){\n      this.file = this.$refs.file.files[0]\n    },\n    create : function(){\n      const fd = new FormData()\n      fd.append('image', this.file)\n      fd.append('name', this.item.name)\n      fd.append('manufacturer', this.item.manufacturer)\n      fd.append('qty', this.item.qty)\n      fd.append('price', this.item.price)\n      fd.append('poids', this.item.poids)\n      fd.append('reference', this.item.reference)\n      fd.append('category', this.item.category)\n      fd.append('state', this.item.state)\n      fd.append('description', this.item.description)\n      fd.append('compatibility', JSON.stringify(this.item.compatibility))\n      axios.post('http://localhost:3000/api/stuff/',fd)\n          .then(res=>{\n            console.log(res)\n          });\n      console.log(this.item.compatibility)\n    },\n    addComp : function (){\n      this.compatibilities++\n      console.log(this.compatibilities)\n      console.log(this.item.compatibility)\n    }\n  }\n}\n</script>\n\n<style scoped>\n#addItem{\n  margin-top: 80px;\n}\ninput, select, textarea, button{\n  padding: 5px;\n  border-radius: 10px;\n  border: solid #078A6C 2px;\n}\ntextarea{\n  width: 500px;\n  height: 200px;\n  resize: none;\n}\n#desc{\n  height: 200px;\n}\n.row{\n  width: 100vw;\n  height: 50px;\n  display: flex;\n  justify-content:center;\n  align-items: center;\n}\nbutton  {\n  background-color: #078A6C;\n  cursor: pointer;\n}\n#ajouter  {\n  width: 250px;\n  height: 50px;\n}\n\n#rond{\n  border-radius: 10px;\n  width: 30px;\n  height: 30px;\n  margin-left: 10px;\n }\n.comps  {\n  margin-left: 2px;\n}\n</style>"],"sourceRoot":""}]}