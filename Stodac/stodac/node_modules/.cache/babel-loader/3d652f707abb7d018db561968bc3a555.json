{"remainingRequest":"/Users/emilienvivier/Documents/Dev/git/Stodac/stodac/node_modules/babel-loader/lib/index.js!/Users/emilienvivier/Documents/Dev/git/Stodac/stodac/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/emilienvivier/Documents/Dev/git/Stodac/stodac/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/emilienvivier/Documents/Dev/git/Stodac/stodac/src/views/RecapCommande.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/emilienvivier/Documents/Dev/git/Stodac/stodac/src/views/RecapCommande.vue","mtime":1650361822562},{"path":"/Users/emilienvivier/Documents/Dev/git/Stodac/stodac/node_modules/cache-loader/dist/cjs.js","mtime":1649843754269},{"path":"/Users/emilienvivier/Documents/Dev/git/Stodac/stodac/node_modules/babel-loader/lib/index.js","mtime":1649843755114},{"path":"/Users/emilienvivier/Documents/Dev/git/Stodac/stodac/node_modules/cache-loader/dist/cjs.js","mtime":1649843754269},{"path":"/Users/emilienvivier/Documents/Dev/git/Stodac/stodac/node_modules/vue-loader-v16/dist/index.js","mtime":1649843755396}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL2VtaWxpZW52aXZpZXIvRG9jdW1lbnRzL0Rldi9naXQvU3RvZGFjL3N0b2RhYy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7CmltcG9ydCB7IG1hcFN0YXRlIH0gZnJvbSAndnVleCc7CmltcG9ydCByZWNhcCBmcm9tICIuLi9jb21wb25lbnRzL1JlY2FwQ29tbWFuZGVDb21wb25lbnRzL3JlY2FwIjsKaW1wb3J0IGxpdnJhaXNvbiBmcm9tICIuLi9jb21wb25lbnRzL1JlY2FwQ29tbWFuZGVDb21wb25lbnRzL2xpdnJhaXNvblNlbGVjdCI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnQ29tbWFuZGUnLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBwYW5pZXI6ICcnLAogICAgICBjZHY6IGZhbHNlLAogICAgICBhZHJlc3M6IHsKICAgICAgICBhZHJlc3M6ICcnLAogICAgICAgIGNpdHk6ICcnLAogICAgICAgIHBvc3RDb2RlOiAnJwogICAgICB9LAogICAgICBtb2RlRGVMaXZyYWlzb246ICdkb21pY2lsZScKICAgIH07CiAgfSwKICBjb21wb25lbnRzOiB7CiAgICByZWNhcDogcmVjYXAsCiAgICBsaXZyYWlzb246IGxpdnJhaXNvbgogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIGlmICh0aGlzLiRzdG9yZS5zdGF0ZS5wYW5uaWVyLmxlbmd0aCA9PT0gMCkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnLycpOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgY29tbWFuZDogZnVuY3Rpb24gY29tbWFuZCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGlmICh0aGlzLm1vZGVEZUxpdnJhaXNvbiA9PT0gInBvaW50UmVsYWlzIikgewogICAgICAgIHRoaXMuYWRyZXNzLmFkcmVzcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJwdWRvV2lkZ2V0QWRkcmVzczEiKS52YWx1ZTsKICAgICAgICB0aGlzLmFkcmVzcy5jaXR5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInB1ZG9XaWRnZXRUb3duIikudmFsdWU7CiAgICAgICAgdGhpcy5hZHJlc3MucG9zdENvZGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicHVkb1dpZGdldFppcENvZGUiKS52YWx1ZTsKICAgICAgfQoKICAgICAgaWYgKHRoaXMubW9kZURlTGl2cmFpc29uID09PSAiZG9taWNpbGUiKSB7CiAgICAgICAgdGhpcy5hZHJlc3MuYWRyZXNzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIm51bSIpLnZhbHVlICsgIiAiICsgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInJ1ZSIpLnZhbHVlOwogICAgICAgIHRoaXMuYWRyZXNzLmNpdHkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgidmlsbGUiKS52YWx1ZTsKICAgICAgICB0aGlzLmFkcmVzcy5wb3N0Q29kZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjcCIpLnZhbHVlOwogICAgICB9CgogICAgICBpZiAodGhpcy5tb2RlRGVMaXZyYWlzb24gPT0gInN1clBsYWNlIikgewogICAgICAgIHRoaXMuYWRyZXNzLmFkcmVzcyA9ICIxMSBCaXMgUnVlIGRlIExvcnJhaW5lIjsKICAgICAgICB0aGlzLmFkcmVzcy5jaXR5ID0gIkRhbWVsZXZpw6hyZXMiOwogICAgICAgIHRoaXMuYWRyZXNzLnBvc3RDb2RlID0gIjU0MzYwIjsKICAgICAgfQoKICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ3NhdmVBZHJlc3MnLCB0aGlzLmFkcmVzcykudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgY29uc29sZS5sb2coX3RoaXMuJHN0b3JlLnN0YXRlLmFkcmVzcyk7CiAgICAgIH0pOwogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnc2F2ZU1ETCcsIHRoaXMubW9kZURlTGl2cmFpc29uKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICBjb25zb2xlLmxvZyhfdGhpcy4kc3RvcmUuc3RhdGUuTURMKTsKICAgICAgfSk7CgogICAgICBpZiAodGhpcy5jZHYpIHsKICAgICAgICBpZiAodGhpcy4kc3RvcmUuc3RhdGUudXNlci51c2VySUQgPT09IC0xKSB7CiAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiL2xvZ2luL3BheWVtZW50Iik7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdzYXZlcGFuaWVyJywgdGhpcy4kc3RvcmUuc3RhdGUucGFubmllcikudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIF90aGlzLiRyb3V0ZXIucHVzaCgiL3BheWVtZW50LyIpOwogICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkgewogICAgICAgICAgICBjb25zb2xlLmxvZygiRXJyb3IgOiBsJ3V0aWxpc2F0ZXVyIG4nZXN0IHBhcyBjb25uZWN0w6kgISIpOwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgY2hhbmdlOiBmdW5jdGlvbiBjaGFuZ2UoZSkgewogICAgICB0aGlzLm1vZGVEZUxpdnJhaXNvbiA9IGU7CiAgICB9LAogICAgcmVzZXQ6IGZ1bmN0aW9uIHJlc2V0KCkgewogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgncmVzZXRwYW5pZXInLCB0aGlzLiRzdG9yZS5zdGF0ZS5wYW5uaWVyKTsKICAgIH0sCiAgICBwdXNoVG9DRFY6IGZ1bmN0aW9uIHB1c2hUb0NEVigpIHsKICAgICAgdmFyIHJvdXRlRGF0YSA9IHRoaXMuJHJvdXRlci5yZXNvbHZlKHsKICAgICAgICBuYW1lOiAnY29uZGl0aW9uc0dlbmVyYWxlc0RlVmVudGUnLAogICAgICAgIHF1ZXJ5OiB7CiAgICAgICAgICBkYXRhOiAic29tZURhdGEiCiAgICAgICAgfQogICAgICB9KTsKICAgICAgd2luZG93Lm9wZW4ocm91dGVEYXRhLmhyZWYsICdfYmxhbmsnKTsKICAgIH0KICB9LAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKHsKICAgIHRvdGFsOiBmdW5jdGlvbiB0b3RhbCgpIHsKICAgICAgdmFyIHRvdGFsID0gMDsKCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy4kc3RvcmUuc3RhdGUucGFubmllci5sZW5ndGg7IGkrKykgewogICAgICAgIHRvdGFsICs9IHRoaXMuJHN0b3JlLnN0YXRlLnBhbm5pZXJbaV0uYXJ0aWNsZS5wcmljZSAqIHRoaXMuJHN0b3JlLnN0YXRlLnBhbm5pZXJbaV0ucXR5OwogICAgICB9CgogICAgICByZXR1cm4gdG90YWw7CiAgICB9CiAgfSwgbWFwU3RhdGUoWyd1c2VySW5mb3MnXSkpCn07"},{"version":3,"sources":["/Users/emilienvivier/Documents/Dev/git/Stodac/stodac/src/views/RecapCommande.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div id=\"Commande\">\n    <p class=\"title\">Récapitulatif de la commande</p>\n\n        <div class=\"container\">\n\n          <div class=\"PContainer\">\n            <recap/>\n            <div id=\"totalPrices\">\n              <p  style=\"margin-left: 40%\">TOTAL HT : <span style=\"color:#419D79;font-weight:bold\">{{ Math.round(total/1.2 * 100)/100 }}€</span></p>\n              <p  style=\"margin-left: 40%\">TOTAL TTC : <span style=\"color:#419D79;font-weight:bold\">{{ Math.round(total * 100)/100 }}€</span></p>\n            </div>\n          </div>\n\n\n\n            <p style=\"text-align:center;\" v-if=\"$store.state.pannier.length === 0\">Votre pannier est vide</p>\n        </div>\n\n    <p class=\"title\">Choisissez votre mode de livraison</p>\n    <livraison :test=\"change\" />\n        <div class=\"inputsContainer\">\n          <div>\n            <input id=\"checkbox\" type=\"checkbox\" v-model=\"cdv\">\n            <span id=\"CDV\" @click=\"pushToCDV\">J'accepte les conditions générales de vente</span>\n          </div>\n          <button  @click=\"command()\" class=\"button\">Commander</button>\n        </div>\n\n</div>\n\n</template>\n\n\n\n\n<script>\nimport { mapState } from 'vuex'\nimport recap from \"../components/RecapCommandeComponents/recap\";\nimport livraison from \"../components/RecapCommandeComponents/livraisonSelect\"\n\nexport default {\n  name: 'Commande',\n  data: function () {\n    return {\n      panier: '',\n      cdv:false,\n      adress: {\n        adress : '',\n        city : '',\n        postCode : '',\n      },\n        modeDeLivraison : 'domicile'\n    }\n  },\n  components:{\n    recap,\n    livraison\n  },\n  mounted: function(){\n    if(this.$store.state.pannier.length === 0){\n      this.$router.push('/');\n    }\n  },\n  methods:{\n    command: function(){\n      if (this.modeDeLivraison===\"pointRelais\"){\n        this.adress.adress = document.getElementById(\"pudoWidgetAddress1\").value\n        this.adress.city = document.getElementById(\"pudoWidgetTown\").value\n        this.adress.postCode = document.getElementById(\"pudoWidgetZipCode\").value\n      }\n      if(this.modeDeLivraison===\"domicile\"){\n        this.adress.adress = document.getElementById(\"num\").value + \" \" + document.getElementById(\"rue\").value\n        this.adress.city = document.getElementById(\"ville\").value\n        this.adress.postCode = document.getElementById(\"cp\").value\n      }\n      if(this.modeDeLivraison==\"surPlace\"){\n        this.adress.adress = \"11 Bis Rue de Lorraine\"\n        this.adress.city = \"Damelevières\"\n        this.adress.postCode = \"54360\"\n      }\n      this.$store.dispatch('saveAdress', this.adress)\n          .then(()=>{\n            console.log(this.$store.state.adress)\n          })\n      this.$store.dispatch('saveMDL', this.modeDeLivraison)\n          .then(()=>{console.log(this.$store.state.MDL)})\n      if(this.cdv){\n        if(this.$store.state.user.userID === -1){\n          this.$router.push(\"/login/payement\")\n        }else{\n          this.$store.dispatch('savepanier', this.$store.state.pannier)\n            .then(()=>{\n              this.$router.push(\"/payement/\")\n            })\n            .catch(()=>{\n              console.log(\"Error : l'utilisateur n'est pas connecté !\")\n            })\n        }\n      }\n    },\n    change: function(e){\n      this.modeDeLivraison = e\n    },\n    reset: function(){\n      this.$store.dispatch('resetpanier', this.$store.state.pannier)\n    },\n    pushToCDV : function (){\n      let routeData = this.$router.resolve({name: 'conditionsGeneralesDeVente', query: {data: \"someData\"}});\n      window.open(routeData.href, '_blank');\n    }\n  },\n  computed: {\n    total: function () {\n      let total = 0;\n      for(let i = 0; i<this.$store.state.pannier.length; i++){\n        total += this.$store.state.pannier[i].article.price * this.$store.state.pannier[i].qty;\n      }\n      return total\n    },\n    ...mapState(['userInfos']),\n  }\n}\n</script>\n\n\n\n\n\n <style scoped>\n@import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;800&display=swap');\n#Commande{\n  margin-top: 130px;\n}\n*{\n  font-family: 'Poppins', sans-serif;\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n}\n#totalPrices{\n  width: 300px\n}\n.container{\n  margin-bottom: 50px;\n}\n.title{\n  color:#007057;\n  margin: 60px 0 20px 21.4%;\n}\n.inputsContainer{\n  margin-top: 25px;\n}\n.inputsContainer, .PContainer{\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n}\n.inputsContainer span{\n  margin-left: 15px;\n}\n#checkbox {\n  -webkit-appearance: none;\n  background-color: #acacac;\n  border: none;\n  padding: 7px;\n  border-radius: 3px;\n  display: inline-block;\n  position: relative;\n}\n#checkbox:checked {\n   background-color: #078A6C;\n   color: #99a1a7;\n }\n\n#checkbox:checked:after {\n  content: '\\2714';\n  font-size: 10px;\n  position: absolute;\n  top: 0px;\n  left: 3px;\n  color: #fff;\n}\n#CDV  {\n  margin-top: 10px;\n  cursor: pointer;\n  color: #078A6C;\n}\n\n.PContainer{\n  flex-direction: column;\n}\n\ninput::-webkit-outer-spin-button,\ninput::-webkit-inner-spin-button {\n  -webkit-appearance: none;\n  margin: 0;\n}\nimg{\n    object-fit: cover;\n    width: 200px;\n    margin-right: 10px;\n    height: 150px;\n}\n.button {\n  background: #419D79;\n  color:white;\n  border-radius: 8px;\n  font-weight: 400;\n  font-size: 15px;\n  border: none;\n  width: 400px;\n  padding: 12px;\n  transition: .4s background-color;\n}\n\n\n.button:hover {\n  cursor:pointer;\n  background: #078A6C;\n}\n\n@media (max-width: 685px) {\n  /*Add some code here*/\n}\n\n </style>"],"sourceRoot":""}]}