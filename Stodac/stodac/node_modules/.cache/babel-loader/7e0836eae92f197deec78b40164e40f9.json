{"remainingRequest":"/Users/emilienvivier/Documents/Dev/git/Stodac/stodac/node_modules/babel-loader/lib/index.js!/Users/emilienvivier/Documents/Dev/git/Stodac/stodac/node_modules/vue-loader-v16/dist/templateLoader.js??ref--6!/Users/emilienvivier/Documents/Dev/git/Stodac/stodac/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/emilienvivier/Documents/Dev/git/Stodac/stodac/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/emilienvivier/Documents/Dev/git/Stodac/stodac/src/components/forms/paypal.vue?vue&type=template&id=455c1f63&scoped=true","dependencies":[{"path":"/Users/emilienvivier/Documents/Dev/git/Stodac/stodac/src/components/forms/paypal.vue","mtime":1658591073052},{"path":"/Users/emilienvivier/Documents/Dev/git/Stodac/stodac/node_modules/cache-loader/dist/cjs.js","mtime":1651081710418},{"path":"/Users/emilienvivier/Documents/Dev/git/Stodac/stodac/node_modules/babel-loader/lib/index.js","mtime":1651081711252},{"path":"/Users/emilienvivier/Documents/Dev/git/Stodac/stodac/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":1651081711995},{"path":"/Users/emilienvivier/Documents/Dev/git/Stodac/stodac/node_modules/cache-loader/dist/cjs.js","mtime":1651081710418},{"path":"/Users/emilienvivier/Documents/Dev/git/Stodac/stodac/node_modules/vue-loader-v16/dist/index.js","mtime":1651081711512}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrLCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jaywgcHVzaFNjb3BlSWQgYXMgX3B1c2hTY29wZUlkLCBwb3BTY29wZUlkIGFzIF9wb3BTY29wZUlkIH0gZnJvbSAidnVlIjsKCnZhciBfd2l0aFNjb3BlSWQgPSBmdW5jdGlvbiBfd2l0aFNjb3BlSWQobikgewogIHJldHVybiBfcHVzaFNjb3BlSWQoImRhdGEtdi00NTVjMWY2MyIpLCBuID0gbigpLCBfcG9wU2NvcGVJZCgpLCBuOwp9OwoKdmFyIF9ob2lzdGVkXzEgPSB7CiAgY2xhc3M6ICJQYXltZW50Igp9Owp2YXIgX2hvaXN0ZWRfMiA9IHsKICByZWY6ICJwYXlwYWwiLAogIGlkOiAicGF5cGFsLWJ1dHRvbi1jb250YWluZXIiCn07CmV4cG9ydCBmdW5jdGlvbiByZW5kZXIoX2N0eCwgX2NhY2hlLCAkcHJvcHMsICRzZXR1cCwgJGRhdGEsICRvcHRpb25zKSB7CiAgcmV0dXJuIF9vcGVuQmxvY2soKSwgX2NyZWF0ZUVsZW1lbnRCbG9jaygiZGl2IiwgX2hvaXN0ZWRfMSwgW19jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzIsIG51bGwsIDUxMgogIC8qIE5FRURfUEFUQ0ggKi8KICApXSk7Cn0="},{"version":3,"sources":["/Users/emilienvivier/Documents/Dev/git/Stodac/stodac/src/components/forms/paypal.vue"],"names":[],"mappings":";;;;;;;AACO,EAAA,KAAK,EAAC;;;AACJ,EAAA,GAAG,EAAC,Q;AAAS,EAAA,EAAE,EAAC;;;uBADvB,mBAAA,CAEM,KAFN,EAAA,UAAA,EAEM,CADJ,mBAAA,CAAqD,KAArD,EAAA,UAAA,EAAqD,IAArD,EAAqD;AAAA;AAArD,GACI,CAFN,C","sourcesContent":["<template>\n  <div class=\"Payment\">\n    <div ref=\"paypal\" id=\"paypal-button-container\"></div>\n  </div>\n</template>\n\n<script>\nimport {mapState} from \"vuex\";\n\nexport default {\n  name: \"paypal\",\n  data:()=>{\n    return{\n      paidFor: false,\n    }\n  },\n  mounted() {\n    const script = document.createElement(\"script\");\n    // script.src = \"https://www.paypal.com/sdk/js?client-id=ASOWp-_1zxWf4EXEzuc47swzhquPSB2XchEHOTMB8Ymv_KwnbQvBXRK9M6BFKqhSMTl90dMSp_qxVQxJ&currency=EUR\";\n    script.src = \"https://www.paypal.com/sdk/js?client-id=ARd5W6m_IfEwriqF5ctXip2H-roEqrJj-VXiTonPVtZQQMQi8H8Lwwp4HeOOMXArfP5C5gh70u1j2ckW&currency=EUR\";\n    script.addEventListener(\"load\", this.setLoaded);\n    document.body.appendChild(script)\n  },\n  methods: {\n    setLoaded: function () {\n      this.loaded = true;\n      window.paypal\n          .Buttons({\n            createOrder: (data, actions) => {\n              return actions.order.create({\n                purchase_units: [\n                  {\n                    description: this.description,\n                    amount: {\n                      value: this.userInfos.savePrix.prix_ttl\n                    }\n                  }\n                ]\n              });\n            },\n            onApprove: async (data, actions) => {\n              const order = await actions.order.capture();\n              this.data;\n              this.paidFor = true;\n              this.sc()\n              this.saveFacture(order.id)\n            },\n            onError: err => {\n              console.log(err);\n            }\n          })\n          .render(this.$refs.paypal);\n    },\n  },\n  computed: {\n    total: function () {\n      let total = 0;\n      for(let i = 0; i<this.$store.state.pannier.length; i++){\n        total += this.$store.state.pannier[i].article.price * this.$store.state.pannier[i].qty;\n      }\n      return total\n    },\n    ...mapState(['userInfos']),\n  },\n  props:{\n    saveFacture:Function,\n    sc:Function\n  }\n}\n</script>\n\n<style scoped>\n#paypal-button-container{\n  display: flex;\n  justify-content: center;\n  z-index: 10;\n  background-color: #fff;\n}\n</style>"],"sourceRoot":""}]}