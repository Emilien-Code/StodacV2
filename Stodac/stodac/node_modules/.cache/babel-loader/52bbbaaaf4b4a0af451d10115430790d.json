{"remainingRequest":"C:\\Users\\Elève\\Documents\\GitHub\\StodacV2\\Stodac\\stodac\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Elève\\Documents\\GitHub\\StodacV2\\Stodac\\stodac\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Elève\\Documents\\GitHub\\StodacV2\\Stodac\\stodac\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\Elève\\Documents\\GitHub\\StodacV2\\Stodac\\stodac\\src\\components\\Login.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\Elève\\Documents\\GitHub\\StodacV2\\Stodac\\stodac\\src\\components\\Login.vue","mtime":1658320544384},{"path":"C:\\Users\\Elève\\Documents\\GitHub\\StodacV2\\Stodac\\stodac\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1658212511278},{"path":"C:\\Users\\Elève\\Documents\\GitHub\\StodacV2\\Stodac\\stodac\\node_modules\\babel-loader\\lib\\index.js","mtime":1658212510397},{"path":"C:\\Users\\Elève\\Documents\\GitHub\\StodacV2\\Stodac\\stodac\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1658212511278},{"path":"C:\\Users\\Elève\\Documents\\GitHub\\StodacV2\\Stodac\\stodac\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1658212546597}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiQzovVXNlcnMvRWxceEU4dmUvRG9jdW1lbnRzL0dpdEh1Yi9TdG9kYWNWMi9TdG9kYWMvc3RvZGFjL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKCnZhciBjbGlja091dHNpZGUgPSBmdW5jdGlvbiBjbGlja091dHNpZGUoZWwsIGJpbmRpbmcpIHsKICBlbC5jbGlja091dHNpZGVFdmVudCA9IGZ1bmN0aW9uIChldmVudCkgewogICAgaWYgKCFlbC5jb250YWlucyhldmVudC50YXJnZXQpKSB7CiAgICAgIGJpbmRpbmcudmFsdWUoKTsKICAgIH0KICB9OwoKICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZWwuY2xpY2tPdXRzaWRlRXZlbnQpOwp9OwoKaW1wb3J0IHsgVnVlUmVjYXB0Y2hhIH0gZnJvbSAidnVlLXJlY2FwdGNoYSI7CmltcG9ydCB7IG1hcFN0YXRlIH0gZnJvbSAndnVleCc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnTG9naW4nLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBtb2RlOiAnbG9naW4nLAogICAgICBlbWFpbDogJycsCiAgICAgIGZpcnN0TmFtZTogJycsCiAgICAgIGxhc3ROYW1lOiAnJywKICAgICAgcGFzc3dvcmQ6ICcnLAogICAgICBtb2JpbGU6ICcnLAogICAgICBwYXNzd29yZFZlcmlmOiAnJywKICAgICAgY2xvc2VMb2dpbjogZmFsc2UsCiAgICAgIGNhcHRjaGE6IGZhbHNlLAogICAgICBpc09wZW46IGZhbHNlLAogICAgICBjaGVjazogZmFsc2UKICAgIH07CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgX3RoaXMuaXNPcGVuID0gdHJ1ZTsKICAgIH0sIDUwMCk7CgogICAgaWYgKHRoaXMuJHN0b3JlLnN0YXRlLnJldGllbnRfYWRyZXNzZSAhPSAnJykgewogICAgICB0aGlzLmVtYWlsID0gdGhpcy4kc3RvcmUuc3RhdGUucmV0aWVudF9hZHJlc3NlOwogICAgICB0aGlzLmNoZWNrID0gdHJ1ZTsKICAgIH0KICB9LAogIGNvbXBvbmVudHM6IHsKICAgIFZ1ZVJlY2FwdGNoYTogVnVlUmVjYXB0Y2hhCiAgfSwKICBjb21wdXRlZDogX29iamVjdFNwcmVhZCh7CiAgICB2YWxpZGF0ZWRGaWVsZHM6IGZ1bmN0aW9uIHZhbGlkYXRlZEZpZWxkcygpIHsKICAgICAgaWYgKHRoaXMubW9kZSA9PT0gJ2NyZWF0ZScpIHsKICAgICAgICByZXR1cm4gdGhpcy5tYWlsVmFsaWRhdGlvbiAmJiB0aGlzLmZpcnN0TmFtZSAhPT0gIiIgJiYgdGhpcy5sYXN0TmFtZSAhPT0gIiIgJiYgdGhpcy5wYXNzd29yZFZhbGlkYXRpb24gJiYgdGhpcy5wYXNzd29yZCA9PT0gdGhpcy5wYXNzd29yZFZlcmlmICYmIHRoaXMuY2FwdGNoYSAmJiB0aGlzLnBob25lVmFsaWRhdGlvbjsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gdGhpcy5tYWlsVmFsaWRhdGlvbiAmJiB0aGlzLnBhc3N3b3JkVmFsaWRhdGlvbjsKICAgICAgfQogICAgfSwKICAgIG1haWxWYWxpZGF0aW9uOiBmdW5jdGlvbiBtYWlsVmFsaWRhdGlvbigpIHsKICAgICAgdmFyIHJlZ2V4cCA9IC9eKChbXjw+KClbXF1cXC4sOzpcc0AiXSsoXC5bXjw+KClbXF1cXC4sOzpcc0AiXSspKil8KCIuKyIpKUAoKFxbWzAtOV17MSwzfVwuWzAtOV17MSwzfVwuWzAtOV17MSwzfVwuWzAtOV17MSwzfVxdKXwoKFthLXpBLVpcLTAtOV0rXC4pK1thLXpBLVpdezIsfSkpJC87CiAgICAgIHJldHVybiByZWdleHAudGVzdChTdHJpbmcodGhpcy5lbWFpbCkudG9Mb3dlckNhc2UoKSk7CiAgICB9LAogICAgcGFzc3dvcmRWYWxpZGF0aW9uOiBmdW5jdGlvbiBwYXNzd29yZFZhbGlkYXRpb24oKSB7CiAgICAgIHZhciByZWdleHAgPSAvXig/PS4qXGQpKD89LipbYS16XSkoPz0uKltBLVpdKSg/PS4qW2EtekEtWl0pLns4LH0kLzsKICAgICAgcmV0dXJuIHJlZ2V4cC50ZXN0KFN0cmluZyh0aGlzLnBhc3N3b3JkKSk7CiAgICB9LAogICAgcGhvbmVWYWxpZGF0aW9uOiBmdW5jdGlvbiBwaG9uZVZhbGlkYXRpb24oKSB7CiAgICAgIHZhciByZWdleHAgPSAvXlswLTldezEwfSQvOwogICAgICByZXR1cm4gcmVnZXhwLnRlc3QoU3RyaW5nKHRoaXMubW9iaWxlKSk7CiAgICB9CiAgfSwgbWFwU3RhdGUoWydzdGF0dXMnXSkpLAogIGRpcmVjdGl2ZXM6IHsKICAgIGNsaWNrT3V0c2lkZTogY2xpY2tPdXRzaWRlCiAgfSwKICBtZXRob2RzOiB7CiAgICBzd2l0Y2hUb0NyZWF0ZUFjY291bnQ6IGZ1bmN0aW9uIHN3aXRjaFRvQ3JlYXRlQWNjb3VudCgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczIubW9kZSA9ICdjcmVhdGUnOwogICAgICB9LCA1MCk7CiAgICB9LAogICAgdmVyaWZ5TWV0aG9kOiBmdW5jdGlvbiB2ZXJpZnlNZXRob2QoKSB7CiAgICAgIHRoaXMuY2FwdGNoYSA9IHRydWU7CiAgICB9LAogICAgZXhwaXJlZE1ldGhvZDogZnVuY3Rpb24gZXhwaXJlZE1ldGhvZCgpIHsKICAgICAgdGhpcy5jYXB0Y2hhID0gZmFsc2U7CiAgICB9LAogICAgc3dpdGNoVG9Mb2dpbjogZnVuY3Rpb24gc3dpdGNoVG9Mb2dpbigpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczMubW9kZSA9ICdsb2dpbic7CiAgICAgIH0sIDUwKTsKICAgIH0sCiAgICBjcm9peDogZnVuY3Rpb24gY3JvaXgoKSB7CiAgICAgIGlmICh0aGlzLmlzT3BlbikgewogICAgICAgIHRoaXMuJHBhcmVudC5sb2dDbG9zZUxvZ2luKCk7CiAgICAgICAgdGhpcy5pc09wZW4gPSBmYWxzZTsKICAgICAgfQogICAgfSwKICAgIGxvZ2luOiBmdW5jdGlvbiBsb2dpbigpIHsKICAgICAgaWYgKHRoaXMudmFsaWRhdGVkRmllbGRzKSB7CiAgICAgICAgdmFyIHJldGllbnRfYWRyZXNzZSA9ICcnOwoKICAgICAgICBpZiAodGhpcy5jaGVjaykgewogICAgICAgICAgcmV0aWVudF9hZHJlc3NlID0gdGhpcy5lbWFpbDsKICAgICAgICB9CgogICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdsb2dpbicsIFt7CiAgICAgICAgICBlbWFpbDogdGhpcy5lbWFpbCwKICAgICAgICAgIHBhc3N3b3JkOiB0aGlzLnBhc3N3b3JkCiAgICAgICAgfSwgcmV0aWVudF9hZHJlc3NlXSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgICBjb25zb2xlLmxvZygidXNlciBsb2dnZWRJbiIpOwogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgY29uc29sZS5sb2coImNhbm5vdCBsb2ciLCBlcnJvcik7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBjcmVhdGVBY2NvdW50OiBmdW5jdGlvbiBjcmVhdGVBY2NvdW50KCkgewogICAgICBpZiAodGhpcy52YWxpZGF0ZWRGaWVsZHMpIHsKICAgICAgICB2YXIgYSA9IHRoaXM7CiAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ2NyZWF0ZUFjY291bnQnLCB7CiAgICAgICAgICBlbWFpbDogdGhpcy5lbWFpbCwKICAgICAgICAgIHBhc3N3b3JkOiB0aGlzLnBhc3N3b3JkLAogICAgICAgICAgZmlyc3ROYW1lOiB0aGlzLmZpcnN0TmFtZSwKICAgICAgICAgIGxhc3ROYW1lOiB0aGlzLmxhc3ROYW1lLAogICAgICAgICAgbW9iaWxlOiAzMyArIHRoaXMubW9iaWxlCiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgICBhLmxvZ2luKCk7CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0KICB9Cn07"},{"version":3,"sources":["C:\\Users\\Elève\\Documents\\GitHub\\StodacV2\\Stodac\\stodac\\src\\components\\Login.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div class=\"card\" v-clickOutside=\"croix\">\r\n    <button id=\"close\" @click=\"croix()\">\r\n      <span></span>\r\n      <span></span>\r\n    </button>\r\n    <h1 class=\"card__title\" v-if=\"mode === 'login'\">Connexion</h1>\r\n    <h1 class=\"card__title\" v-else>Inscription</h1>\r\n\r\n    <p class=\"card__subtitle\" v-if=\"mode === 'login'\">Tu n'as pas encore de compte ? <span class=\"card__action\" @click=\"switchToCreateAccount()\">Créer un compte</span></p>\r\n    <p class=\"card__subtitle\" v-else>Tu as déjà un compte ? <span class=\"card__action\" @click=\"switchToLogin()\">Se connecter</span></p>\r\n\r\n    <div class=\"form-row\">\r\n      <input v-model=\"email\" :class=\"{'form-row__input': true, 'validFields': mailValidation, 'unvalidField': !mailValidation&&this.email!==''}\" type=\"text\" placeholder=\"Adresse mail\"/>\r\n    </div>\r\n\r\n    <div class=\"form-row\" v-if=\"mode === 'create'\">\r\n      <input v-model=\"firstName\" :class=\"{'form-row__input': true, 'validFields': firstName!==''}\" type=\"text\" placeholder=\"Prénom\"/>\r\n      <input v-model=\"lastName\" :class=\"{'form-row__input': true, 'validFields': lastName!==''}\" type=\"text\" placeholder=\"Nom\"/>\r\n    </div>\r\n    <div class=\"form-row\" v-if=\"mode === 'create'\">\r\n    <input v-model=\"mobile\" :class=\"{'form-row__input': true, 'validFields': phoneValidation, 'unvalidField': !phoneValidation&&this.mobile!==''}\" type=\"tel\" placeholder=\"Numéro de téléphone\"/>\r\n    </div>\r\n    <div class=\"form-row\">\r\n      <input v-model=\"password\" :class=\"{'form-row__input': true, 'validFields': passwordValidation, 'unvalidField': !passwordValidation&&this.password!==''} \" type=\"password\" placeholder=\"Mot de passe\" @keyup.enter=\"login\"/>\r\n    </div>\r\n    <div class=\"form-row\" v-if=\"mode === 'create'\">\r\n      <input v-model=\"passwordVerif\" :class=\"{'form-row__input': true, 'validFields': this.passwordVerif===this.password&&this.passwordVerif!=='', 'unvalidField':this.passwordVerif!==this.password}\" type=\"password\" placeholder=\"Vérification du mot de passe\"/>\r\n    </div>\r\n\r\n    <div v-if=\"mode === 'login'\">\r\n      <input id=\"checkbox\" type=\"checkbox\" v-model=\"check\">\r\n      <span id=\"CDV\">Se souvenir de moi</span>\r\n    </div>\r\n\r\n    <div class=\"form-row\" id=\"cap\" v-if=\"mode === 'create'\">\r\n      <VueRecaptcha ref=\"recaptcha\" sitekey=\"6LdK3p0fAAAAAEqnAuVYJqXnbaO8f8kRs9FqMXUG\" @verify=\"verifyMethod\" @expired=\"expiredMethod\" :loadRecaptchaScript=\"true\"></VueRecaptcha>\r\n    </div>\r\n\r\n    <div class=\"form-row\" v-if=\"mode === 'login' && status === 'error_login'\">\r\n      Adresse mail et/ou mot de passe invalide\r\n    </div>\r\n    <div class=\"form-row\" v-if=\"mode === 'create' && status === 'error_create'\">\r\n      Adresse mail déjà utilisée\r\n    </div>\r\n\r\n    <div class=\"form-row\">\r\n      <button @click=\"login()\" class=\"button\" :class=\"{'button--disabled' : !validatedFields}\" v-if=\"mode === 'login'\">\r\n        <span v-if=\"status === 'loading'\">Connexion en cours...</span>\r\n        <span v-else>Connexion</span>\r\n      </button>\r\n      <button @click=\"createAccount()\" class=\"button\" :class=\"{'button--disabled' : !validatedFields}\" v-else>\r\n        <span v-if=\"status === 'loading'\">Création en cours...</span>\r\n        <span v-else>Créer mon compte</span>\r\n      </button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nlet clickOutside = function(el, binding) {\r\n  el.clickOutsideEvent = function (event) {\r\n    if (!el.contains(event.target)) {\r\n      binding.value()\r\n    }\r\n  };\r\n  document.body.addEventListener('click', el.clickOutsideEvent)\r\n}\r\n\r\nimport {VueRecaptcha} from \"vue-recaptcha\";\r\nimport { mapState } from 'vuex'\r\nexport default {\r\n  name: 'Login',\r\n  data: function () {\r\n    return {\r\n      mode: 'login',\r\n      email: '',\r\n      firstName: '',\r\n      lastName: '',\r\n      password: '',\r\n      mobile: '',\r\n      passwordVerif:'',\r\n      closeLogin: false,\r\n      captcha:false,\r\n      isOpen: false,\r\n      check:false\r\n    }\r\n  },\r\n  mounted() {\r\n    setTimeout(()=>{\r\n      this.isOpen = true;\r\n    }, 500)\r\n    if(this.$store.state.retient_adresse != ''){\r\n      this.email = this.$store.state.retient_adresse\r\n      this.check = true\r\n    }\r\n  },\r\n  components: { VueRecaptcha },\r\n  computed: {\r\n    validatedFields: function () {\r\n      if (this.mode === 'create') {\r\n        return this.mailValidation && this.firstName !== \"\" && this.lastName !== \"\" && this.passwordValidation && this.password===this.passwordVerif && this.captcha && this.phoneValidation\r\n      } else {\r\n        return this.mailValidation && this.passwordValidation\r\n      }\r\n    },\r\n    mailValidation: function(){\r\n      const regexp = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n      return regexp.test(String(this.email).toLowerCase());\r\n    },\r\n    passwordValidation: function(){\r\n      const regexp = /^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[a-zA-Z]).{8,}$/;\r\n      return regexp.test(String(this.password));\r\n    },\r\n    phoneValidation: function(){\r\n      const regexp = /^[0-9]{10}$/;\r\n      return regexp.test(String(this.mobile));\r\n    },\r\n    ...mapState(['status'])\r\n  },\r\n  directives:{\r\n    clickOutside\r\n  },\r\n  methods: {\r\n    switchToCreateAccount: function () {\r\n      setTimeout(()=>{\r\n       this.mode = 'create';\r\n      },50)\r\n    },\r\n    verifyMethod : function(){\r\n      this.captcha = true\r\n    },\r\n    expiredMethod : function(){\r\n      this.captcha = false\r\n    },\r\n    switchToLogin: function () {\r\n      setTimeout(()=>{\r\n            this.mode = 'login';\r\n            },50)\r\n    },\r\n    croix: function(){\r\n      if(this.isOpen){\r\n        this.$parent.logCloseLogin();\r\n        this.isOpen = false\r\n      }\r\n    },\r\n    login: function(){\r\n      if(this.validatedFields) {\r\n        let retient_adresse = ''\r\n        if(this.check){\r\n          retient_adresse = this.email\r\n        }\r\n        this.$store.dispatch('login', [{\r\n          email: this.email,\r\n          password: this.password\r\n        },retient_adresse]).then(function () {\r\n          console.log(\"user loggedIn\")\r\n        })\r\n            .catch(function (error) {\r\n              console.log(\"cannot log\", error)\r\n            })\r\n      }\r\n    },\r\n    createAccount: function(){\r\n      if(this.validatedFields) {\r\n        const a = this;\r\n        this.$store.dispatch('createAccount', {\r\n          email: this.email,\r\n          password: this.password,\r\n          firstName: this.firstName,\r\n          lastName: this.lastName,\r\n          mobile: 33 + this.mobile,\r\n        }).then(function () {\r\n          a.login();\r\n        }).catch(function (error) {\r\n          console.log(error);\r\n        });\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n\r\n\r\n\r\n</script>\r\n\r\n<style scoped>\r\n@import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;800&display=swap');\r\n\r\n.SSDM{\r\n    display: flex;\r\n    margin: 16px 0;\r\n    gap:16px;\r\n    flex-wrap: wrap;\r\n  }\r\n.form-row {\r\n    display: flex;\r\n    margin: 16px 0;\r\n    gap:16px;\r\n    flex-wrap: wrap;\r\n  }\r\n#cap{\r\n  display: flex;\r\n  justify-content: center;\r\n}\r\n  .form-row__input {\r\n    padding:8px;\r\n    border: none;\r\n    border-radius: 8px;\r\n    background:#f2f2f2;\r\n    font-weight: 500;\r\n    font-size: 16px;\r\n    flex:1;\r\n    min-width: 100px;\r\n    color: black;\r\n    border: solid 2px #ffffff;\r\n    transition : 1s;\r\n  }\r\n\r\n  .form-row__input::placeholder {\r\n    color:#aaaaaa;\r\n  }\r\n\r\n* {\r\n  font-family: 'Poppins', sans-serif;\r\n  margin:0;\r\n  padding: 0;\r\n  box-sizing: border-box;\r\n}\r\n#close{\r\n  position: absolute;\r\n  top: 10px;\r\n  right: 10px;\r\n  border-radius: 50%;\r\n  width: 25px;\r\n  height: 25px;\r\n  background-color: #F1F1F1;\r\n  border:none;\r\n  cursor:pointer;\r\n  transition: .4s background-color;\r\n}\r\n#close:hover{\r\n  background-color: #E1E1E1;\r\n}\r\n#close span{\r\n  width: 2.5px;\r\n  height: 15px;\r\n  background-color: #A1A1A1;\r\n  border-radius: 2px;\r\n  position: absolute;\r\n  top : 5px;\r\n  left  : 10.5px;\r\n}\r\n#close span:nth-child(1){\r\n  transform:rotate(45deg);\r\n}\r\n#close span:nth-child(2){\r\n  transform:rotate(-45deg);\r\n}\r\n#checkbox {\r\n  top:4px;\r\n  -webkit-appearance: none;\r\n  background-color: #acacac;\r\n  border: none;\r\n  padding: 10px;\r\n  border-radius: 3px;\r\n  display: inline-block;\r\n  position: relative;\r\n}\r\n#checkbox:checked {\r\n   background-color: #078A6C;\r\n   color: #99a1a7;\r\n }\r\n\r\n#checkbox:checked:after {\r\n  content: '\\2714';\r\n  font-size: 13px;\r\n  position: absolute;\r\n  top: 0px;\r\n  left: 6px;\r\n  color: #fff;\r\n}\r\n#CDV  {\r\n  color:#666;\r\n  margin: 10px;\r\n  font-weight: 400;\r\n}\r\n\r\n.card {\r\n  position:fixed;\r\n  z-index: 4;\r\n  top: 70px;\r\n  right: 25px;\r\n  max-width: 100%;\r\n  width: 400px;\r\n  background:#ffffffA0;\r\n  backdrop-filter: blur(20px);\r\n\r\n  border-radius: 16px;\r\n  padding:32px;\r\n  box-shadow: rgba(0, 0, 0, 0.24) 0 3px 8px;\r\n  transform-origin: top ;\r\n  animation: apearCard 0.5s ease;\r\n}\r\n\r\n.card__title {\r\n  text-align:center;\r\n  font-weight: 800;\r\n}\r\n\r\n.card__subtitle {\r\n  text-align: center;\r\n  color:#666;\r\n  font-weight: 500;\r\n}\r\n\r\n.button {\r\n  background: #419D79;\r\n  color:white;\r\n  border-radius: 8px;\r\n  font-weight: 800;\r\n  font-size: 15px;\r\n  border: none;\r\n  width: 100%;\r\n  padding: 16px;\r\n  transition: .4s background-color;\r\n}\r\n\r\n  .card__action {\r\n    color:#419D79;\r\n    text-decoration: underline;\r\n  }\r\n\r\n  .card__action:hover {\r\n    cursor:pointer;\r\n  }\r\n\r\n  .button:hover {\r\n    cursor:pointer;\r\n    background: #078A6C;\r\n  }\r\n\r\n  .button--disabled {\r\n    background:#aeaeae;\r\n    color:#ececec\r\n  }\r\n  .button--disabled:hover {\r\n    cursor:not-allowed;\r\n    background:#aeaeae;\r\n  }\r\n\r\n.unvalidField{\r\n  border: solid 2px #F18F01;\r\n  transition: 1s;\r\n\r\n}\r\n.validFields{\r\n  transition: 1s;\r\n  border: solid 2px #078A6C;\r\n}\r\ntextarea, select, input, button { outline: none; }\r\n\r\n@media (max-width: 650px) {\r\n.card{\r\n  right:0;\r\n  width: 100vw;\r\n}\r\n}\r\n\r\n.form-row{\r\n  animation: apearform .5s ease forwards;\r\n  opacity: 0;\r\n}\r\n\r\n/* Email connection password*/\r\n.card div.form-row:nth-child(4){\r\n  animation-delay: .2s;\r\n}\r\n.card div.form-row:nth-child(5){\r\n  animation-delay: .4s;\r\n}\r\n.card div.form-row:nth-child(6){\r\n  animation-delay: .6s;\r\n}\r\n\r\n@keyframes apearform {\r\n  0%{\r\n    opacity: 0;\r\n    transform: translateX(-30px);\r\n\r\n  }\r\n  100%{\r\n    transform: translateX(0);\r\n    opacity: 1;\r\n  }\r\n}\r\n\r\n@keyframes apearCard {\r\n  0%{\r\n    transform: scaleY(0);\r\n  }\r\n  100%{\r\n    transform: scaleY(1);\r\n  }\r\n}\r\n</style>"],"sourceRoot":""}]}